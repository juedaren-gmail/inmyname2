/*
 *
 *  Shi Nai Jun CONFIDENTIAL
 * __________________
 *
 *  Shi Nai Jun
 *  All Rights Reserved.
 *
 * NOTICE:  All information and all copyrights contained herein are,
 * and remain the property of Shi Nai Jun, if any.
 * The intellectual and technical concepts contained herein are
 * proprietary to Shi Nai Jun and may be covered by patents, patents
 * in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Shi Nai Jun.
 *
 */

self.importScripts("lang/en.js")
self.importScripts("brokers.js")
var f6d={};var f6=f6d;
f6.J={aez:dict.m1,afW:dict.m2,alf:dict.m3,za:dict.m4,pr:dict.m5,YU:dict.m6,abu:dict.m7,amY:dict.m8,aet:dict.m9,ans:dict.m10,amk:dict.m11,amZ:dict.m12,amT:dict.m13,alV:dict.m14,afj:dict.m15,amC:dict.m16,alJ:dict.m17,amO:dict.m18,amf:dict.m19,alS:dict.m20,zg:dict.m21,afD:dict.m22,ann:dict.m23,ayO:dict.m24,axF:dict.m25,sb:dict.m26,DZ:dict.m27,IA:dict.m28,atD:dict.m29,abL:dict.m30,aaF:dict.m31,alR:dict.m32,amm:dict.m33,anh:dict.m34,anu:dict.m35,atx:dict.m36,anv:dict.m37,awt:dict.m38,anq:dict.m39,aau:dict.m40,eQ:dict.m41,ZX:dict.m42,amU:dict.m43,akS:dict.m44,ajP:dict.m45,atk:dict.m46,Ry:dict.m47,aeC:dict.m48,akq:dict.m49,aeD:dict.m50,afN:dict.m51,aeW:dict.m52,afF:dict.m53,IG:dict.m54,nS:dict.m55,afb:dict.m56,adU:dict.m57,ajL:dict.m58,aft:dict.m59,aku:dict.m60,JB:dict.m61,lj:dict.m62,wx:dict.m63,aum:dict.m64,DC:dict.m65,ayH:dict.m66,aaL:dict.m67,sc:dict.m68,agE:dict.m69,aif:dict.m70,aeY:dict.m71,ayf:dict.m72,KE:dict.m73,Zy:dict.m74,awR:dict.m75,Xt:dict.m76,sV:dict.m77,Cn:dict.m78,afm:dict.m79,YO:dict.m80,YL:dict.m81,ZY:dict.m82,Ia:dict.m83,Ij:dict.m84,qd:dict.m85,ml:dict.m86,ayP:dict.m87,apD:dict.m88,EO:dict.m89,wg:dict.m90,aay:dict.m91,Us:dict.m92,CX:dict.m93,adj:dict.m94,arb:dict.m95,apX:dict.m96,JC:dict.m97,Ri:dict.m98,CO:dict.m99,aqr:dict.m100,aqB:dict.m101,auK:dict.m102,wE:dict.m103,aeX:dict.m104,aro:dict.m105,axZ:dict.m106,aux:dict.m107,HK:dict.m108,arV:dict.m109,Df:dict.m110,adV:dict.m111,Sh:dict.m112,arB:dict.m113,asK:dict.m114,aeR:dict.m115,RG:dict.m116,aky:dict.m117,aub:dict.m118,akh:dict.m119,asU:dict.m120,Ho:dict.m121,GT:dict.m122,hu:dict.m123,iT:dict.m124,gq:dict.m125,aoY:dict.m126,IJ:dict.m127,acG:dict.m128,Cj:dict.m129,ajg:dict.m130,aiC:dict.m131,aig:dict.m132,ail:dict.m133,QI:dict.m134,oM:dict.m135,At:dict.m136,YH:dict.m137,Zz:dict.m138,aaU:dict.m139,ZB:dict.m140,aaH:dict.m141,auh:dict.m142,Lj:dict.m143,rQ:dict.m144,uq:dict.m145,ara:dict.m146,awC:dict.m147,arS:dict.m148,axo:dict.m149,avC:dict.m150,awj:dict.m151,IO:dict.m152,Xz:dict.m153,anU:dict.m154,Vf:dict.m155,afA:dict.m156,afc:dict.m157,sL:dict.m158,kw:dict.m159,Dh:dict.m160,afg:dict.m161,ZR:dict.m162,acv:dict.m163,adT:dict.m164,aeu:dict.m165,ael:dict.m166,aeZ:dict.m167,aeB:dict.m168,gW:dict.m169,XQ:dict.m170,pL:dict.m171,Ob:dict.m172,mq:dict.m173,Ac:dict.m174,mI:dict.m175,qI:dict.m176,DO:dict.m177,afx:dict.m178,AL:dict.m179,IK:dict.m180,zV:dict.m181,CJ:dict.m182,anQ:dict.m183,xk:dict.m184,aqb:dict.m185,ahN:dict.m186,avD:dict.m187,arK:dict.m188,Ww:dict.m189,Wg:dict.m190,Kj:dict.m191,JI:dict.m192,QH:dict.m193,JN:dict.m194,MA:dict.m195,OU:dict.m196,MR:dict.m197,Gd:dict.m198,sA:dict.m199,apf:dict.m200,abY:dict.m201,Rw:dict.m202,Oq:dict.m203,aem:dict.m204,acx:dict.m205,JV:dict.m206,IQ:dict.m207,afv:dict.m208,alE:dict.m209,amE:dict.m210,aml:dict.m211,amW:dict.m212,ahJ:dict.m213,arU:dict.m214,als:dict.m215,arJ:dict.m216,asX:dict.m217,agA:dict.m218,ahw:dict.m219,nF:dict.m220,vT:dict.m221,avO:dict.m222,anO:dict.m223,aix:dict.m224,eD:dict.m225,alQ:dict.m226,aye:dict.m227,ajm:dict.m228,IM:dict.m229,agc:dict.m230,arX:dict.m231,anA:dict.m232,By:dict.m233,mc:dict.m234,Bk:dict.m235,rh:dict.m236,wf:dict.m237,vt:dict.m238,acC:dict.m239,aeQ:dict.m240,Vt:dict.m241,ayB:dict.m242,Ut:dict.m243,akR:dict.m244,atc:dict.m245,afi:dict.m246,Ym:dict.m247,WP:dict.m248,awM:dict.m249,afJ:dict.m250,aiO:dict.m251,axz:dict.m252,axy:dict.m253,alB:dict.m254,alx:dict.m255,Xw:dict.m256};f6.ay=function(ab){console.error(new Date(Date.now()).toString()+" "+f6.J.aez+ab)};f6.ll=function(ab){console.log(new Date(Date.now()).toString()+" "+ab)};f6.ib=function(ab){console.log(new Date(Date.now()).toString()+" "+ab)};f6.gl={yh:"cc_s_m",Ai:"cc_e_m",xu:"cc_w_m",ayz:"cc_s_m_b",axK:"cc_e_m_b",avv:"cc_w_m_b",ayJ:".header",zp:".p",asC:".message .close",abz:".message",zA:"transition",zl:"hidden",alN:"fade",Ur:"<br>",Mw:"padding-left",DB:"5em",afZ:'<div class="ui overlay success message transition hidden" style="position:fixed!important;overflow-y:scroll" id="cc_s_m">'+'<i class="close icon" style="font-size:1.5rem" id="cc_s_m_b"></i>'+'<div class="header">'+'Success Message'+'</div>'+'<p class="p"></p>'+'</div>',akH:'<div class="ui overlay error message transition hidden" style="position:fixed!important;overflow-y:scroll" id="cc_e_m">'+'<i class="close icon" style="font-size:1.5rem" id="cc_e_m_b"></i>'+'<div class="header">'+'Error Message'+'</div>'+'<p class="p"></p>'+'</div>',ahi:'<div class="ui overlay warning message transition hidden" style="position:fixed!important;overflow-y:scroll" id="cc_w_m">'+'<i class="close icon" style="font-size:1.5rem" id="cc_w_m_b"></i>'+'<div class="header">'+'Warning Message'+'</div>'+'<p class="p"></p>'+'</div>',xB:true,gv:function(xB,HS,JT,IY){if (typeof xB!=f6.t.fJ) {
 return;
}if (typeof HS!=f6.t.v) {
 return;
}if (typeof JT!=f6.t.v) {
 return;
}if (typeof IY!=f6.t.v) {
 return;
}this.xB=xB;this.alj(HS,JT,IY,this.DB)},alj:function(HS,JT,IY,DB){$("#"+HS).append(this.afZ);$("#"+JT).append(this.akH);$("#"+IY).append(this.ahi);$("#"+this.yh).css(this.Mw,DB);$("#"+this.Ai).css(this.Mw,DB);$("#"+this.xu).css(this.Mw,DB);var bk=this;$(this.asC).on(f6.bX.eL,function(){$(this).closest(bk.abz).transition(bk.alN);$(this).closest(bk.abz).find(bk.zp).html("")})},YG:function(){$("#"+this.yh).addClass(this.zA);$("#"+this.yh).addClass(this.zl);$("#"+this.yh).find(this.zp).html("");$("#"+this.Ai).addClass(this.zA);$("#"+this.Ai).addClass(this.zl);$("#"+this.Ai).find(this.zp).html("");$("#"+this.xu).addClass(this.zA);$("#"+this.xu).addClass(this.zl);$("#"+this.xu).find(this.zp).html("")}};f6.jN=function(ab){if(f6.gl.xB){$("#"+f6.gl.yh+" > "+f6.gl.zp).append(ab+f6.gl.Ur);$("#"+f6.gl.yh).removeClass(f6.gl.zA);$("#"+f6.gl.yh).removeClass(f6.gl.zl)}};f6.dk=function(ab){if(f6.gl.xB){$("#"+f6.gl.Ai+" > "+f6.gl.zp).append(ab+f6.gl.Ur);$("#"+f6.gl.Ai).removeClass(f6.gl.zA);$("#"+f6.gl.Ai).removeClass(f6.gl.zl)}};f6.mW=function(ab){if(f6.gl.xB){$("#"+f6.gl.xu+" > "+f6.gl.zp).append(ab+f6.gl.Ur);$("#"+f6.gl.xu).removeClass(f6.gl.zA);$("#"+f6.gl.xu).removeClass(f6.gl.zl)}};f6.cf={kO:"e",Ih:"i_s",XN:"k_s",aca:"s_s",acT:"q_s",Vv:"q_bt_s",Yb:"uq_s",HW:"as_s",Xo:"o_s",aaV:"mo_s",YS:"co_s",aaC:"mt_s",ZT:"ct_s",acZ:"t_s",Yr:"ut_s",adm:"tm_s",XT:"um_s",aeb:"a_s",adi:"m_s",Kc:"tk_s",Ks:"rtk_s",Ku:"ss_s",abf:"gt_s",BV:"r_c",ZS:"r_bt_c",ZO:"k_c",aat:"q_c",aby:"q_bt_c",Ke:"s_c",aba:"t_c",aab:"tm_c",ZV:"a_c",Zn:"m_c",LC:"ts_c",ww:"tf_c",LO:"rts_c",vq:"rtf_c"};f6.gP=function(Pw,BY){this.fH=Pw;this.aX=BY};f6.eT=function(BY){postMessage(new f6.gP(f6.cf.kO,f6.J.aez+BY))};f6.kc=function(Pw,BY){postMessage(new f6.gP(Pw,BY))};f6.CS={IA:"i_i_ok",anh:"g_o_b_g_ok",atx:"s_o_b_ok",awt:"l_o_b_ok",amU:"g_h_q_ok",akS:"d_o_p_ok",ajP:"d_o_a_ok",atk:"r_s_d",abI:"o_i_ok"};f6.cC={eV:"t",eF:"b"};f6.cV=f6.cC.eV;f6.tP=false;f6.pO=false;f6.kk={kE:1,axd:2};f6.jW=f6.kk.kE;f6.eU=true;f6.vQ=false;f6.eD=10000;f6.uS={yR:"r",Nb:"m"};f6.rN={oG:"p",cs:"t"};f6.dV={qD:"m",cO:"b",dK:"a",mO:"ba"};f6.t={G:"undefined",atj:"[object Function]",v:"string",hv:"index",bd:"key",fJ:"boolean",aI:"object",abo:"_blank",jB:"true",mu:"false",aan:"null",acM:Number.MIN_SAFE_INTEGER,wA:Number.MAX_SAFE_INTEGER,acu: -Number.MAX_VALUE,ayL:Number.MAX_VALUE,aey: -9999999999,ayo:9999999999};f6.R={Io:"svg",K:"id",DW:"div",bm:"class",fa:"g",Vj:"url",PN:"clipPath",OB:"clip-path",jb:"rect",ee:"line",oc:"circle",fL:"x",dN:"y",jQ:"dx",jU:"dy",di:"x1",cA:"x2",cY:"y1",dh:"y2",ej:"cx",fM:"cy",fS:"r",ci:"width",ds:"height",fX:"opacity",cF:"fill",cv:"stroke",ix:"stroke-width",vv:"stroke-dasharray",hB:"transform",hq:"translate",axL:"rotate",jy:"text",fm:"font-size",kS:"text-anchor",fC:"start",ayh:"middle",he:"end",mz:"drag",aeT:"path",pf:"round",aX:"d",ack:"stroke-linejoin",acz:"stroke-linecap",va:"none",axV:"svg-container",axf:"svg-content-responsive",ayv:"viewBox",axm:"preserveAspectRatio",axk:"xMinYMin",ayi:"meet",Wo:"active",bs:"cursor",ayn:"pointer",io:"background-color",mf:"color",HC:"border",vw:"display",aaS:"block",ayK:"important",tJ:"style"};f6.axB={axY:"b",axj:"d"};f6.ez={ig:"p",sq:"f",Hu:"f_o",HX:"f_c",vh:"t",ql:"c",tc:"r",mF:"m_c",ps:"m_r",om:"b_c",pj:"m_n",oW:"a"};f6.jd={cw:"o",pb:"c",tQ:"c_w_t",rq:"t",oW:"a"};f6.cr={aS:"o",cR:"h",bG:"p",dP:"s",kG:"c",sN:"m",wG:"t",Kg:"b",xq:"a",wq:"r",He:"i",rd:"k",st:"z",dr:"e"};f6.RA={kG:"Cancelled",sN:"Rejected",avl:"Unknown",dr:"Expired"};f6.bX={zT:"message",kO:"error",cw:"open",oS:"resize",eL:"click",awx:"submit",JK:"mousedown",JA:"mousemove",uY:"mouseup",awY:"orientationchange",apH:"change",alv:"customevent"};f6.bu={lU:11,kr:0,GU:1,Hs:2,El:3,ED:4,Iy:5,Hg:6,Dn:7,CW:8,GZ:9,Tp:10,kb:7,jh:0,vS:1,tE:2,vu:3,ty:4,wU:5,Bj:6};f6.Ka=function(Ju){if (typeof Ju==f6.t.G||Ju==null) {
 return false;
}var pA={};return Ju&&pA.toString.call(Ju)===f6.t.atj;};f6.au=function(uh){if (typeof uh==f6.t.G||uh==null) {
 return false;
}return!isNaN(parseFloat(uh))&&isFinite(uh);};f6.ai=function(uh){return!isNaN(uh)&&parseInt(Number(uh), 10)==uh&& !isNaN(parseInt(uh,10))};f6.dI=function(Va){if (typeof Va==f6.t.G||Va==null) {
 return false;
}return Va.constructor===Array};f6.oz=function(Bh){
 if (typeof Bh!=f6.t.v) {
  return false;
 }if(Bh===""){return false}if(Bh==="inherit"){return false}if(Bh==="transparent"){return false}var Ak=document.createElement("img");Ak.style.color="rgb(0, 0, 0)";Ak.style.color=Bh;if(Ak.style.color!=="rgb(0, 0, 0)"){return true}Ak.style.color="rgb(255, 255, 255)";Ak.style.color=Bh;return Ak.style.color!=="rgb(255, 255, 255)";
};f6.Fx=function(adl){var Db=[];for(var bd in adl){Db.push(encodeURIComponent(bd)+"="+encodeURIComponent(adl[bd]))}return Db.join("&")};f6.Jb=function(ah){var ng=[];for(var i in ah){if(ah.hasOwnProperty(i)){if(typeof ah[i]==f6.t.v){ng.push(i+': "'+ah[i]+'"')}else if(f6.dI(ah[i])){var JZ=JSON.parse(JSON.stringify(ah[i]));for(var j in JZ){if(JZ[j]==null){JZ[j]="null"}}ng.push(i+': ['+JZ.join(', ')+']')}else{ng.push(i+": "+ah[i])}}}return ng};f6.aW={jt:"s1",iA:"s2",ic:"s3",ji:"s4",iy:"m1",lv:"m2",jG:"m3",iU:"m4",ka:"m5",jn:"m6",jw:"m7",ir:"h1",ko:"h2",le:"h3",hV:"h4",kd:"h5",ly:"h6",ks:"h7",hK:"d",ia:"w",ii:"m"};f6.am={jt:"S5",iA:"S10",ic:"S15",ji:"S30",iy:"M1",lv:"M2",jG:"M4",iU:"M5",ka:"M10",jn:"M15",jw:"M30",ir:"H1",ko:"H2",le:"H3",hV:"H4",kd:"H6",ly:"H8",ks:"H12",hK:"D",ia:"W",ii:"M"};f6.nh=function(aR){if(aR==f6.aW.jt){return 5}else if(aR==f6.aW.iA){return 10}else if(aR==f6.aW.ic){return 15}else if(aR==f6.aW.ji){return 30}else if(aR==f6.aW.iy){return 60}else if(aR==f6.aW.lv){return 120}else if(aR==f6.aW.jG){return 240}else if(aR==f6.aW.iU){return 300}else if(aR==f6.aW.ka){return 600}else if(aR==f6.aW.jn){return 900}else if(aR==f6.aW.jw){return 1800}else if(aR==f6.aW.ir){return 3600}else if(aR==f6.aW.ko){return 7200}else if(aR==f6.aW.le){return 10800}else if(aR==f6.aW.hV){return 14400}else if(aR==f6.aW.kd){return 21600}else if(aR==f6.aW.ly){return 28800}else if(aR==f6.aW.ks){return 43200}else if(aR==f6.aW.hK){return 86400}else{return null}};f6.tK=function(aR){if(aR==f6.aW.jt){return f6.am.jt}else if(aR==f6.aW.iA){return f6.am.iA}else if(aR==f6.aW.ic){return f6.am.ic}else if(aR==f6.aW.ji){return f6.am.ji}else if(aR==f6.aW.iy){return f6.am.iy}else if(aR==f6.aW.lv){return f6.am.lv}else if(aR==f6.aW.jG){return f6.am.jG}else if(aR==f6.aW.iU){return f6.am.iU}else if(aR==f6.aW.ka){return f6.am.ka}else if(aR==f6.aW.jn){return f6.am.jn}else if(aR==f6.aW.jw){return f6.am.jw}else if(aR==f6.aW.ir){return f6.am.ir}else if(aR==f6.aW.ko){return f6.am.ko}else if(aR==f6.aW.le){return f6.am.le}else if(aR==f6.aW.hV){return f6.am.hV}else if(aR==f6.aW.kd){return f6.am.kd}else if(aR==f6.aW.ly){return f6.am.ly}else if(aR==f6.aW.ks){return f6.am.ks}else if(aR==f6.aW.hK){return f6.am.hK}else if(aR==f6.aW.ia){return f6.am.ia}else if(aR==f6.aW.ii){return f6.am.ii}else{return null}};f6.Kn=function(eW){if(eW==f6.am.jt){return f6.aW.jt}else if(eW==f6.am.iA){return f6.aW.iA}else if(eW==f6.am.ic){return f6.aW.ic}else if(eW==f6.am.ji){return f6.aW.ji}else if(eW==f6.am.iy){return f6.aW.iy}else if(eW==f6.am.lv){return f6.aW.lv}else if(eW==f6.am.jG){return f6.aW.jG}else if(eW==f6.am.iU){return f6.aW.iU}else if(eW==f6.am.ka){return f6.aW.ka}else if(eW==f6.am.jn){return f6.aW.jn}else if(eW==f6.am.jw){return f6.aW.jw}else if(eW==f6.am.ir){return f6.aW.ir}else if(eW==f6.am.ko){return f6.aW.ko}else if(eW==f6.am.le){return f6.aW.le}else if(eW==f6.am.hV){return f6.aW.hV}else if(eW==f6.am.kd){return f6.aW.kd}else if(eW==f6.am.ly){return f6.aW.ly}else if(eW==f6.am.ks){return f6.aW.ks}else if(eW==f6.am.hK){return f6.aW.hK}else if(eW==f6.am.ia){return f6.aW.ia}else if(eW==f6.am.ii){return f6.aW.ii}else{return null}};f6.IL=function(aR){if(aR==f6.aW.ia||aR==f6.aW.ii){return true}else{return false}};f6.aui=function(aR){if(aR==f6.aW.ia){return true}else{return false}};f6.axi=function(aR){if(aR==f6.aW.ii){return true}else{return false}};f6.xm=function(aR){if(aR!=f6.aW.ia&&aR!=f6.aW.ii&&aR!=f6.aW.jt&&aR!=f6.aW.iA&&aR!=f6.aW.ic&&aR!=f6.aW.ji){return true}else{return false}};f6.So=function(aR){if(aR==f6.aW.jt){return true}else if(aR==f6.aW.iA){return true}else if(aR==f6.aW.ic){return true}else if(aR==f6.aW.ji){return true}else if(aR==f6.aW.iy){return true}else if(aR==f6.aW.lv){return true}else if(aR==f6.aW.jG){return true}else if(aR==f6.aW.iU){return true}else if(aR==f6.aW.ka){return true}else if(aR==f6.aW.jn){return true}else if(aR==f6.aW.jw){return true}else if(aR==f6.aW.ir){return true}else if(aR==f6.aW.ko){return true}else if(aR==f6.aW.le){return true}else if(aR==f6.aW.hV){return true}else if(aR==f6.aW.kd){return true}else if(aR==f6.aW.ly){return true}else if(aR==f6.aW.ks){return true}else if(aR==f6.aW.hK){return true}else if(aR==f6.aW.ia){return true}else if(aR==f6.aW.ii){return true}else{return false}};f6.hJ={nM:"%m-%d %H:%M",yu:"%y-%m-%d",nj:"%y-%m-%d %H:%M"};f6.Jv=function(aR){if(aR==f6.aW.jt){return f6.hJ.nM}else if(aR==f6.aW.iA){return f6.hJ.nM}else if(aR==f6.aW.ic){return f6.hJ.nM}else if(aR==f6.aW.ji){return f6.hJ.nM}else if(aR==f6.aW.iy){return f6.hJ.nM}else if(aR==f6.aW.lv){return f6.hJ.nM}else if(aR==f6.aW.jG){return f6.hJ.nM}else if(aR==f6.aW.iU){return f6.hJ.nM}else if(aR==f6.aW.ka){return f6.hJ.nM}else if(aR==f6.aW.jn){return f6.hJ.nM}else if(aR==f6.aW.jw){return f6.hJ.nM}else if(aR==f6.aW.ir){return f6.hJ.nM}else if(aR==f6.aW.ko){return f6.hJ.nM}else if(aR==f6.aW.le){return f6.hJ.yu}else if(aR==f6.aW.hV){return f6.hJ.yu}else if(aR==f6.aW.kd){return f6.hJ.yu}else if(aR==f6.aW.ly){return f6.hJ.yu}else if(aR==f6.aW.ks){return f6.hJ.yu}else if(aR==f6.aW.hK){return f6.hJ.yu}else{return f6.hJ.yu}};f6.dO={DY:"Authorization",yg:"Bearer",YQ:"Content-Type",aob:"Accept-Datetime-Format",afU:"UNIX",ZA:"application/json",sd:"application/json; charset=utf-8",mK:"POST",wY:"PUT",fB:"GET",qk:"json",eD:"timeout"};f6.bc={bW:1,eP:2,fl:3,gi:4,fU:5,gh:6,Cl:7,AX:8,BW:9,BD:10};f6.iX={bW:"BUY",eP:"SELL",fl:"BUY LIMIT",gi:"SELL LIMIT",fU:"BUY STOP",gh:"SELL STOP"};f6.zM={bW:"B",eP:"S",fl:"B L",gi:"S L",fU:"B S",gh:"S S"};f6.amB=function(){return[f6.bc.bW,f6.bc.eP,f6.bc.fl,f6.bc.gi,f6.bc.fU,f6.bc.gh]};f6.mg=function(aD){if(aD==f6.bc.bW){return f6.iX.bW}else if(aD==f6.bc.eP){return f6.iX.eP}else if(aD==f6.bc.fl){return f6.iX.fl}else if(aD==f6.bc.gi){return f6.iX.gi}else if(aD==f6.bc.fU){return f6.iX.fU}else if(aD==f6.bc.gh){return f6.iX.gh}else{return ""}};f6.rH=function(aD){if(aD==f6.bc.bW){return f6.zM.bW}else if(aD==f6.bc.eP){return f6.zM.eP}else if(aD==f6.bc.fl){return f6.zM.fl}else if(aD==f6.bc.gi){return f6.zM.gi}else if(aD==f6.bc.fU){return f6.zM.fU}else if(aD==f6.bc.gh){return f6.zM.gh}else{return ""}};f6.abq=function(fY){if(fY==f6.iX.bW){return f6.bc.bW}else if(fY==f6.iX.eP){return f6.bc.eP}else if(fY==f6.iX.fl){return f6.bc.fl}else if(fY==f6.iX.gi){return f6.bc.gi}else if(fY==f6.iX.fU){return f6.bc.fU}else if(fY==f6.iX.gh){return f6.bc.gh}else{return null}};f6.aeG={qO:"L",wd:"S"};f6.axQ={qO:"Limit",wd:"Stop"};f6.DM={UU:"L",sX:"H"};f6.jY={As:0,aaB:1,WK:2,agu:3,afB:4,aeo:5,De:6};f6.awy=function(sz){if(sz==f6.jY.As){return "Sunday"}else if(sz==f6.jY.aaB){return "Monday"}else if(sz==f6.jY.WK){return "Tuesday"}else if(sz==f6.jY.agu){return "Wednesday"}else if(sz==f6.jY.afB){return "Thursday"}else if(sz==f6.jY.aeo){return "Friday"}else if(sz==f6.jY.De){return "Saturday"}else{return ""}};f6.EA={Ve:1,aei:2};f6.cI=function(Uj,ajJ){var aqM=Uj.callee.name;var Yc=[];for(var i=0;i<Uj.length;i += 1){Yc.push(Uj[i])}return f6.J.afW+aqM+"("+Yc.join(", ")+")"+", "+f6.J.alf+ajJ};f6.hw={nz:"n",fJ:"b",v:"s",oE:"i"};f6.qo={nz:"Number",fJ:"Boolean",v:"String",oE:"Integer"};f6.YT=function(gr){if(gr==f6.hw.nz){return f6.qo.nz}else if(gr==f6.hw.fJ){return f6.qo.fJ}else if(gr==f6.hw.v){return f6.qo.v}else if(gr==f6.hw.oE){return f6.qo.oE}else{return null}};f6.Yj=function(Lo){if(Lo==f6.qo.nz){return f6.hw.nz}else if(Lo==f6.qo.fJ){return f6.hw.fJ}else if(Lo==f6.qo.v){return f6.hw.v}else if(Lo==f6.qo.oE){return f6.hw.oE}else{return null}};f6.xC={lp:"shift"};f6.Aw={cL:"bounty.red",iH:"bounty.red",iG:"bounty.red"};f6.zW={cL:"",iH:"",iG:""};f6.zE={cL:"https://",iH:"https://",iG:"https://"};f6.afw={awS:"Channel-Sea",XA:"Chart-Coaster"};f6.IH={KI:"0"};f6.abK=function(){return[f6.aW.iy,f6.aW.iU,f6.aW.jn,f6.aW.jw,f6.aW.ir,f6.aW.hV,f6.aW.hK,f6.aW.ia,f6.aW.ii]};f6.acy=function(){return f6.aW.iy};f6.amy=function(){return[500,1000,2000,5000,10000,20000,50000,100000,1000000]};f6.RR={cL:"channel-sea.cc",iH:"channel-sea.cc",iG:"channel-sea.cc"};f6.dz={cL:"fe",iH:"od",iG:"ol"};f6.Sf={cL:"Fintechee Demo",iH:"Oanda Demo (Browser must be Firefox)",iG:"Oanda Live (Browser must be Firefox)"};f6.Ef={cL:"Fintechee Demo",iH:"Oanda Demo",iG:"Oanda Live"};f6.md={cL:"c",wo:"o"};f6.zk=[];f6.zk[f6.dz.cL]=f6.md.cL;f6.zk[f6.dz.iH]=f6.md.wo;f6.zk[f6.dz.iG]=f6.md.wo;f6.bA=[];f6.bA[f6.dz.cL]={bC:[],Km:false,O:f6.dz.cL,QR:f6.zE.cL+f6.Aw.cL+f6.zW.cL,Qw:f6.zE.cL+f6.Aw.cL+f6.zW.cL,Nt:f6.zE.cL+f6.Aw.cL+f6.zW.cL,Na:f6.zE.cL+f6.Aw.cL+f6.zW.cL,MV:f6.zE.cL+f6.RR.cL,LN:"/images/fintechee_logo_small.png",lk:["EUR/USD"],fq:"Technology Service Provider",mH:21,kP:21,lV:100,mv:true,aJ:"USD",cg:100000,bD:100,oB:50,ow:0.01,mD:false,qx:null,qV:null,ns:false,mA:false,iS:false,JX:"/getSS",GK:"/signinByTradeToken",HF:"/signinToTrade",Hz:"/signinToWatch",Jr:"/quickRegister",Ip:"/register",Ky:"/changePassword",It:"/sendResetPwMail",Il:"/resetPassword",Ie:"/getDefaultAccForInvestor",Lm:"/setWatchable",Jp:"/setNotWatchable"};f6.mJ={eV:"TRADE",oQ:"INVESTOR"};f6.XW=[];f6.agd=function(ba){f6.XW=ba};f6.Gk=function(){return f6.XW};f6.yp=function(O,C){if(typeof f6.bA[O]!=f6.t.G&&f6.bA[O]!=null&&f6.dI(f6.bA[O].bC)){var gQ=null;for(var i in f6.bA[O].bC){if(f6.bA[O].bC[i].C==C){if(typeof f6.bA[O].bC[i].cs==f6.t.v){return f6.mJ.eV}else if(typeof f6.bA[O].bC[i].bY==f6.t.v){return f6.mJ.oQ}else{return f6.mJ.oQ}}}return f6.mJ.oQ}else{return f6.mJ.oQ}};f6.EL=function(O,C){if(typeof f6.bA[O]!=f6.t.G&&f6.bA[O]!=null&&f6.dI(f6.bA[O].bC)){var gQ=null;for(var i in f6.bA[O].bC){if(f6.bA[O].bC[i].C==C){gQ={cs:f6.bA[O].bC[i].cs,bY:f6.bA[O].bC[i].bY,dX:f6.bA[O].bC[i].dX};break}}return gQ}else{return null}};f6.kQ=function(O,C){if(typeof f6.bA[O]!=f6.t.G&&f6.bA[O]!=null&&f6.dI(f6.bA[O].bC)){var T=null;for(var i in f6.bA[O].bC){if(f6.bA[O].bC[i].C==C){T=f6.bA[O].bC[i].T;break}}return T}else{return null}};f6.ZF=function(O,C,T){if(typeof f6.bA[O]!=f6.t.G&&f6.bA[O]!=null&&f6.dI(f6.bA[O].bC)){for(var i in f6.bA[O].bC){if(f6.bA[O].bC[i].C==C){f6.bA[O].bC[i].T=T;return true}}}return false};f6.ij=function(O,C){if(typeof f6.bA[O]!=f6.t.G&&f6.bA[O]!=null&&f6.dI(f6.bA[O].bC)){var ar=null;for(var i in f6.bA[O].bC){if(f6.bA[O].bC[i].C==C){ar={cs:f6.bA[O].bC[i].cs,bY:f6.bA[O].bC[i].bY};break}}if(ar!=null){if(ar.cs!=null){return f6.mJ.eV+" "+ar.cs}else if(ar.bY!=null){return f6.mJ.oQ+" "+ar.bY}else{return f6.mJ.oQ}}else{return f6.mJ.oQ}}else{return f6.mJ.oQ}};f6.amI=function(){var bC=[];for(var i in f6.bA){for(var j in f6.bA[i].bC){bC.push({O:f6.bA[i].bC[j].O,C:f6.bA[i].bC[j].C})}}return bC};f6.Es=function(O,C,cs,bY,dX,T){if(typeof f6.bA[O]!=f6.t.G&&f6.bA[O]!=null&&f6.dI(f6.bA[O].bC)){for(var i in f6.bA[O].bC){if(f6.bA[O].bC[i].C==C){f6.bA[O].bC[i]={O:O,C:C,cs:cs,bY:bY,dX:dX,T:T};return f6.bA[O].bC[i]}}f6.bA[O].bC.push({O:O,C:C,cs:cs,bY:bY,dX:dX,T:T});return true}return false};f6.An=function(O,C){if(typeof f6.bA[O]!=f6.t.G&&f6.bA[O]!=null&&f6.dI(f6.bA[O].bC)){for(var i in f6.bA[O].bC){if(f6.bA[O].bC[i].C==C){f6.bA[O].bC.splice(parseInt(i, 10),1);return true}}}return false};f6.kU=function(O){if(typeof f6.zk[O]!=f6.t.G){return f6.zk[O]}else{return f6.md.cL}};f6.abt=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].QR}else{return f6.bA[f6.dz.cL].QR}};f6.Ph=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].Qw}else{return f6.bA[f6.dz.cL].Qw}};f6.adu=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].Nt}else{return f6.bA[f6.dz.cL].Nt}};f6.fQ=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].Na}else{return f6.bA[f6.dz.cL].Na}};f6.abA=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].MV}else{return f6.bA[f6.dz.cL].MV}};f6.yv=function(){var hl=[];for(var i in f6.bA){hl.push(f6.bA[i].O)}return hl};f6.fz=function(O){for(var i in f6.dz){if(O==f6.dz[i]){return f6.Ef[i]}}return null};f6.Jh=function(O){for(var i in f6.dz){if(O==f6.dz[i]){return f6.Sf[i]}}return null};f6.uH=function(bH){for(var i in f6.Ef){if(bH==f6.Ef[i]){return f6.dz[i]}}return null};f6.QM=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].LN}else{return f6.bA[f6.dz.cL].LN}};f6.akX=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].lk}else{return f6.bA[f6.dz.cL].lk}};f6.amt=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].fq}else{return f6.bA[f6.dz.cL].fq}};f6.awB=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].mH}else{return f6.bA[f6.dz.cL].mH}};f6.avP=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].kP}else{return f6.bA[f6.dz.cL].kP}};f6.awa=function(){var vM=[];for(var i in f6.bA){for(var j in f6.bA[i].bC){vM.push({O:f6.bA[i].bC[j].O,C:f6.bA[i].bC[j].C,kP:f6.bA[i].kP})}}return vM};f6.aqv=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].lV}else{return f6.bA[f6.dz.cL].lV}};f6.adM=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].mv}else{return f6.bA[f6.dz.cL].mv}};f6.PF=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].aJ}else{return f6.bA[f6.dz.cL].aJ}};f6.kD=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].cg}else{return f6.bA[f6.dz.cL].cg}};f6.rV=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].bD}else{return f6.bA[f6.dz.cL].bD}};f6.alY=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].oB}else{return f6.bA[f6.dz.cL].oB}};f6.OW=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].ow}else{return f6.bA[f6.dz.cL].ow}};f6.adf=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].mD}else{return f6.bA[f6.dz.cL].mD}};f6.amK=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].qx}else{return f6.bA[f6.dz.cL].qx}};f6.amV=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].qV}else{return f6.bA[f6.dz.cL].qV}};f6.pP=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].ns}else{return f6.bA[f6.dz.cL].ns}};f6.VR=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].mA}else{return f6.bA[f6.dz.cL].mA}};f6.ayR=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].iS}else{return f6.bA[f6.dz.cL].iS}};f6.avc=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].GK}else{return f6.bA[f6.dz.cL].GK}};f6.auW=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].HF}else{return f6.bA[f6.dz.cL].HF}};f6.auR=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].Hz}else{return f6.bA[f6.dz.cL].Hz}};f6.avr=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].Jr}else{return f6.bA[f6.dz.cL].Jr}};f6.abv=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].Ip}else{return f6.bA[f6.dz.cL].Ip}};f6.anp=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].Ky}else{return f6.bA[f6.dz.cL].Ky}};f6.atI=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].It}else{return f6.bA[f6.dz.cL].It}};f6.avJ=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].Il}else{return f6.bA[f6.dz.cL].Il}};f6.amw=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].Ie}else{return f6.bA[f6.dz.cL].Ie}};f6.atV=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].Lm}else{return f6.bA[f6.dz.cL].Lm}};f6.atU=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].Jp}else{return f6.bA[f6.dz.cL].Jp}};f6.awE=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].Km}else{return f6.bA[f6.dz.cL].Km}};f6.AQ=function(O,hW){if(typeof f6.bA[O]!=f6.t.G){f6.bA[O].Km=hW}};f6.auf=function(O){if(typeof f6.bA[O]!=f6.t.G){return f6.bA[O].JX}else{return f6.bA[f6.dz.cL].JX}};f6.abR=function(O){var bk=this;return new Promise(function(ce,aj){var bH=f6.fz(O);var cq=function(aN){var ab=null;if(typeof aN.brokerName==f6.t.v&&aN.brokerName==O&&typeof aN.defaultSymbolNames==f6.t.v&&typeof aN.desc==f6.t.v&&typeof aN.startEndHour==f6.t.v&&typeof aN.swapCalcHour==f6.t.v&&typeof aN.pendingOdrsOpenTrdsNumLimit==f6.t.v&&typeof aN.demoMode==f6.t.v&&typeof aN.currency==f6.t.v&&typeof aN.lotsUnit==f6.t.v&&typeof aN.toFixed==f6.t.v&&typeof aN.commentLengthLimit==f6.t.v&&typeof aN.lotsPerOrder==f6.t.v&&typeof aN.externalData==f6.t.v&&typeof aN.externalURL==f6.t.v&&typeof aN.externalTk==f6.t.v&&typeof aN.spreadBetting==f6.t.v&&typeof aN.brokerless==f6.t.v&&typeof aN.creditsOnboard==f6.t.v){try{
 var lk=JSON.parse(aN.defaultSymbolNames);if(f6.dI(lk)){for(var i in lk){if(typeof lk[i]!=f6.t.v){throw new Error(f6.J.nF+"(defaultSymbolNames, "+bH+", "+aN.defaultSymbolNames+")")}}}else{throw new Error(f6.J.nF+"(defaultSymbolNames, "+bH+", "+aN.defaultSymbolNames+")")}var mH=null;if(f6.ai(aN.startEndHour)){mH=parseInt(aN.startEndHour, 10)}else{throw new Error(f6.J.nF+"(startEndHour, "+bH+", "+aN.startEndHour+")")}var kP=null;if(f6.ai(aN.swapCalcHour)){kP=parseInt(aN.swapCalcHour, 10)}else{throw new Error(f6.J.nF+"(swapCalcHour, "+bH+", "+aN.swapCalcHour+")")}var lV=null;if(f6.ai(aN.pendingOdrsOpenTrdsNumLimit)){lV=parseInt(aN.pendingOdrsOpenTrdsNumLimit, 10)}else{throw new Error(f6.J.nF+"(pendingOdrsOpenTrdsNumLimit, "+bH+", "+aN.pendingOdrsOpenTrdsNumLimit+")")}var mv=null;if(aN.demoMode==f6.t.jB){mv=true}else if(aN.demoMode==f6.t.mu){mv=false}else{throw new Error(f6.J.nF+"(demoMode, "+bH+", "+aN.demoMode+")")}var cg=null;if(f6.au(aN.lotsUnit)){cg=parseFloat(aN.lotsUnit)}else{throw new Error(f6.J.nF+"(lotsUnit, "+bH+", "+aN.lotsUnit+")")}var bD=null;if(f6.ai(aN.toFixed)){bD=parseInt(aN.toFixed, 10)}else{throw new Error(f6.J.nF+"(toFixed, "+bH+", "+aN.toFixed+")")}var oB=null;if(f6.ai(aN.commentLengthLimit)){oB=parseInt(aN.commentLengthLimit, 10)}else{throw new Error(f6.J.nF+"(commentLengthLimit, "+bH+", "+aN.commentLengthLimit+")")}var ow=null;if(f6.au(aN.lotsPerOrder)){ow=parseFloat(aN.lotsPerOrder)}else{throw new Error(f6.J.nF+"(lotsPerOrder, "+bH+", "+aN.lotsPerOrder+")")}var mD=null;if(aN.externalData==f6.t.jB){mD=true}else if(aN.externalData==f6.t.mu){mD=false}else{throw new Error(f6.J.nF+"(externalData, "+bH+", "+aN.externalData+")")}var ns=null;if(aN.spreadBetting==f6.t.jB){ns=true}else if(aN.spreadBetting==f6.t.mu){ns=false}else{throw new Error(f6.J.nF+"(spreadBetting, "+bH+", "+aN.spreadBetting+")")}var mA=null;if(aN.brokerless==f6.t.jB){mA=true}else if(aN.brokerless==f6.t.mu){mA=false}else{throw new Error(f6.J.nF+"(brokerless, "+bH+", "+aN.brokerless+")")}var iS=null;if(aN.creditsOnboard==f6.t.jB){iS=true}else if(aN.creditsOnboard==f6.t.mu){iS=false}else{throw new Error(f6.J.nF+"(creditsOnboard, "+bH+", "+aN.creditsOnboard+")")}f6.bA[O].lk=lk;f6.bA[O].fq=aN.desc;f6.bA[O].mH=mH;f6.bA[O].kP=kP;f6.bA[O].lV=lV;f6.bA[O].mv=mv;f6.bA[O].aJ=aN.currency;f6.bA[O].cg=cg;f6.bA[O].bD=bD;f6.bA[O].oB=oB;f6.bA[O].ow=ow;f6.bA[O].mD=mD;f6.bA[O].qx=aN.externalURL;f6.bA[O].qV=aN.externalTk;f6.bA[O].ns=ns;f6.bA[O].mA=mA;f6.bA[O].iS=iS;f6.AQ(O,true);ce();
}catch(e){f6.AQ(O,true);f6.dk(e.message);f6.ay(e.message);aj()}}else{f6.AQ(O,true);ab=f6.J.nF+"("+bH+")";f6.dk(ab);f6.ay(ab);aj()}};$.ajax({url:f6.fQ(O)+f6.auf(O),type:f6.dO.mK,data:JSON.stringify({brokerName:O}),contentType:f6.dO.sd,dataType:f6.dO.qk,timeout:f6.eD,success:cq,error:function(cX,hW,ab){if(hW===f6.dO.eD){f6.AQ(O,true);f6.dk(f6.J.eD+"("+bH+")");f6.ay(f6.J.eD+"("+bH+")")}else{f6.AQ(O,true);f6.dk(ab+"("+bH+")");f6.ay(ab+"("+bH+")")}aj()}})})};f6.atY=function(){var jf=[];for(var i in f6.bA){jf.push({O:f6.bA[i].O,lk:f6.bA[i].lk,fq:f6.bA[i].fq,mH:f6.bA[i].mH,kP:f6.bA[i].kP,lV:f6.bA[i].lV,mv:f6.bA[i].mv,aJ:f6.bA[i].aJ,cg:f6.bA[i].cg,bD:f6.bA[i].bD,oB:f6.bA[i].oB,ow:f6.bA[i].ow,mD:f6.bA[i].mD,qx:f6.bA[i].qx,qV:f6.bA[i].qV,ns:f6.bA[i].ns,mA:f6.bA[i].mA,iS:f6.bA[i].iS})}return jf};f6.aga=function(jf){for(var i in jf){var O=jf[i].O;if(typeof f6.bA[O]!=f6.t.G&&f6.bA[O]!=null){f6.bA[O].lk=jf[i].lk;f6.bA[O].fq=jf[i].fq;f6.bA[O].mH=jf[i].mH;f6.bA[O].kP=jf[i].kP;f6.bA[O].lV=jf[i].lV;f6.bA[O].mv=jf[i].mv;f6.bA[O].aJ=jf[i].aJ;f6.bA[O].cg=jf[i].cg;f6.bA[O].bD=jf[i].bD;f6.bA[O].oB=jf[i].oB;f6.bA[O].ow=jf[i].ow;f6.bA[O].mD=jf[i].mD;f6.bA[O].qx=jf[i].qx;f6.bA[O].qV=jf[i].qV;f6.bA[O].ns=jf[i].ns;f6.bA[O].mA=jf[i].mA;f6.bA[O].iS=jf[i].iS;f6.AQ(O,true)}}};f6.Jn=function(O){var db=null;for(var i in f6.bA){if(O==f6.bA[i].O){db={lk:f6.bA[O].lk,fq:f6.bA[O].fq,mH:f6.bA[O].mH,kP:f6.bA[O].kP,lV:f6.bA[O].lV,mv:f6.bA[O].mv,aJ:f6.bA[O].aJ,cg:f6.bA[O].cg,bD:f6.bA[O].bD,oB:f6.bA[O].oB,ow:f6.bA[O].ow,mD:f6.bA[O].mD,qx:f6.bA[O].qx,qV:f6.bA[O].qV,ns:f6.bA[O].ns,mA:f6.bA[O].mA,iS:f6.bA[O].iS};break}}return db};f6.Je=function(O,db){if(typeof f6.bA[O]!=f6.t.G&&f6.bA[O]!=null){f6.bA[O].lk=db.lk;f6.bA[O].fq=db.fq;f6.bA[O].mH=db.mH;f6.bA[O].kP=db.kP;f6.bA[O].lV=db.lV;f6.bA[O].mv=db.mv;f6.bA[O].aJ=db.aJ;f6.bA[O].cg=db.cg;f6.bA[O].bD=db.bD;f6.bA[O].oB=db.oB;f6.bA[O].ow=db.ow;f6.bA[O].mD=db.mD;f6.bA[O].qx=db.qx;f6.bA[O].qV=db.qV;f6.bA[O].ns=db.ns;f6.bA[O].mA=db.mA;f6.bA[O].iS=db.iS}};f6.ayC=function(){var oJ=0;for(var i in f6.bA){oJ += 1}return oJ};f6.amg=function(){return f6.dz.cL};f6.Fh=function(){try{if(typeof brokerDomain!=f6.t.G){for(var i in brokerDomain){if(typeof f6.Aw[i]==f6.t.G){f6.Aw[i]=brokerDomain[i]}else{throw new Error(f6.J.vT+"(brokerDomain."+i+")")}}}if(typeof brokerPort!=f6.t.G){for(var i in brokerPort){if(typeof f6.zW[i]==f6.t.G){f6.zW[i]=brokerPort[i]}else{throw new Error(f6.J.vT+"(brokerPort."+i+")")}}}if(typeof brokerProtocol!=f6.t.G){for(var i in brokerProtocol){if(typeof f6.zE[i]==f6.t.G){f6.zE[i]=brokerProtocol[i]}else{throw new Error(f6.J.vT+"(brokerProtocol."+i+")")}}}if(typeof shopDomain!=f6.t.G){for(var i in shopDomain){if(typeof f6.RR[i]==f6.t.G){f6.RR[i]=shopDomain[i]}else{throw new Error(f6.J.vT+"(shopDomain."+i+")")}}}if(typeof brokerName!=f6.t.G){for(var i in brokerName){if(typeof f6.dz[i]==f6.t.G){f6.dz[i]=brokerName[i]}else{throw new Error(f6.J.vT+"(brokerName."+i+")")}}}if(typeof signInShownBrokerName!=f6.t.G){for(var i in signInShownBrokerName){if(typeof f6.Sf[i]==f6.t.G){f6.Sf[i]=signInShownBrokerName[i]}else{throw new Error(f6.J.vT+"(signInShownBrokerName."+i+")")}}}if(typeof shownBrokerName!=f6.t.G){for(var i in shownBrokerName){if(typeof f6.Ef[i]==f6.t.G){f6.Ef[i]=shownBrokerName[i]}else{throw new Error(f6.J.vT+"(shownBrokerName."+i+")")}}}if(typeof brokerCtx!=f6.t.G){for(var i in brokerCtx){if(typeof f6.bA[i]==f6.t.G){f6.bA[i]={bC:[],Km:false,O:brokerCtx[i].brokerName,QR:brokerCtx[i].dataStreamURL,Qw:brokerCtx[i].dataBaseURL,Nt:brokerCtx[i].orderStreamURL,Na:brokerCtx[i].orderBaseURL,MV:brokerCtx[i].shopURL,LN:brokerCtx[i].logoURL,lk:brokerCtx[i].defaultSymbolNames,fq:brokerCtx[i].desc,mH:brokerCtx[i].startEndHour,kP:brokerCtx[i].swapCalcHour,lV:brokerCtx[i].pendingOdrsOpenTrdsNumLimit,mv:brokerCtx[i].demoMode,aJ:brokerCtx[i].currency,cg:brokerCtx[i].lotsUnit,bD:brokerCtx[i].toFixed,oB:brokerCtx[i].commentLengthLimit,ow:brokerCtx[i].lotsPerOrder,mD:brokerCtx[i].externalData,qx:brokerCtx[i].externalURL,qV:brokerCtx[i].externalTk,ns:brokerCtx[i].ns,mA:brokerCtx[i].mA,iS:brokerCtx[i].iS,JX:f6.bA[f6.dz.cL].JX,GK:f6.bA[f6.dz.cL].GK,HF:f6.bA[f6.dz.cL].HF,Hz:f6.bA[f6.dz.cL].Hz,Jr:f6.bA[f6.dz.cL].Jr,Ip:f6.bA[f6.dz.cL].Ip,Ky:f6.bA[f6.dz.cL].Ky,It:f6.bA[f6.dz.cL].It,Il:f6.bA[f6.dz.cL].Il,Ie:f6.bA[f6.dz.cL].Ie,Lm:f6.bA[f6.dz.cL].Lm,Jp:f6.bA[f6.dz.cL].Jp};f6.zk[i]=f6.md.cL}else{throw new Error(f6.J.vT+"(brokerCtx."+i+")")}}}return true}catch(e){f6.dk(e.message);f6.ay(e.message);return false}};self.indexedDB=self.indexedDB||self.mozIndexedDB||self.webkitIndexedDB||self.msIndexedDB;self.IDBTransaction=self.IDBTransaction||self.webkitIDBTransaction||self.msIDBTransaction||{READ_WRITE:"readwrite"};self.IDBKeyRange=self.IDBKeyRange||self.webkitIDBKeyRange||self.msIDBKeyRange;self.addEventListener(f6.bX.kO,function(bI){});self.addEventListener(f6.bX.zT,function(bI){if(bI.data.fH==f6.cf.Ih){(function(){f6.Fh();f6.cV=bI.data.aX.hs;f6d.lM[f6.md.cL].NY(f6d.kB);f6d.lM[f6.md.cL].Ot(f6d.gm);if(typeof vG!=f6.t.G&&vG!=null){f6d.lM[f6.md.wo].NY(vG)}f6d.lM[f6.md.wo].Ot(f6d.gm);f6d.gm.aic(f6d.lM);return f6d.gm.auH()})().then(function(aeS){f6.kc(aeS.kF,aeS.ab)}).catch(function(){})}else if(bI.data.fH==f6.cf.XN){f6d.gm.HB(bI.data.aX)}else if(bI.data.fH==f6.cf.aca){f6d.gm.vk(bI.data.aX)}else if(bI.data.fH==f6.cf.HW){f6d.gm.uR(bI.data.aX)}else if(bI.data.fH==f6.cf.acT){f6d.gm.kH(bI.data.aX)}else if(bI.data.fH==f6.cf.Vv){f6d.gm.Eg(bI.data.aX)}else if(bI.data.fH==f6.cf.Yb){f6d.gm.kZ(bI.data.aX)}else if(bI.data.fH==f6.cf.Kc){var da=bI.data.aX;var cU=f6.Es(da.O,da.C,da.cs,da.bY,da.dX,da.T);if(typeof cU==f6.t.aI||cU){if(da.O==f6.dz.iH||da.O==f6.dz.iG){var Lv=da.cs!=null?da.cs:da.bY;if(typeof vG!=f6.t.G&&vG!=null){vG.wD(da.O,da.C,Lv)}}f6.Je(da.O,da.db);f6.kc(f6.cf.LC,{O:da.O,C:da.C,cs:da.cs,bY:da.bY,dX:da.dX,T:da.T,db:da.db})}else{f6.kc(f6.cf.ww,{O:da.O,C:da.C})}}else if(bI.data.fH==f6.cf.Ks){var da=bI.data.aX;if(f6.An(da.O,da.C)){if(da.O==f6.dz.iH||da.O==f6.dz.iG){if(typeof vG!=f6.t.G&&vG!=null){vG.wm(da.O,da.C)}}f6.kc(f6.cf.LO,{O:da.O,C:da.C})}else{f6.kc(f6.cf.vq,{O:da.O,C:da.C})}}else if(bI.data.fH==f6.cf.Ku){var db=bI.data.aX;f6.Je(db.O,db.db)}},false);f6d.lf={xg:"k_o",zK:6,zN:7};f6d.fV=Object.keys({O:null,C:null,V:null,bV:null,dg:null,aR:null,bz:null,aC:null});f6d.RW={XD:"readonly",asb:"readwrite"};f6d.gm={lM:null,aic:function(lM){this.lM=lM},wS:null,ajR:1,ik:{jt:1200,iA:1200,ic:1200,ji:1200,iy:3500,lv:3500,jG:1200,iU:1200,jn:500,jw:500,ir:500,ko:500,le:500,hV:500,kd:500,ly:500,ks:500,hK:500,ia:0,ii:0},ana:function(aR){if(aR==f6.aW.jt){return this.ik.jt}else if(aR==f6.aW.iA){return this.ik.iA}else if(aR==f6.aW.ic){return this.ik.ic}else if(aR==f6.aW.ji){return this.ik.ji}else if(aR==f6.aW.iy){return this.ik.iy}else if(aR==f6.aW.lv){return this.ik.lv}else if(aR==f6.aW.jG){return this.ik.jG}else if(aR==f6.aW.iU){return this.ik.iU}else if(aR==f6.aW.ka){return this.ik.ka}else if(aR==f6.aW.jn){return this.ik.jn}else if(aR==f6.aW.jw){return this.ik.jw}else if(aR==f6.aW.ir){return this.ik.ir}else if(aR==f6.aW.ko){return this.ik.ko}else if(aR==f6.aW.le){return this.ik.le}else if(aR==f6.aW.hV){return this.ik.hV}else if(aR==f6.aW.kd){return this.ik.kd}else if(aR==f6.aW.ly){return this.ik.ly}else if(aR==f6.aW.ks){return this.ik.ks}else if(aR==f6.aW.hK){return this.ik.hK}else if(aR==f6.aW.ia){return this.ik.ia}else if(aR==f6.aW.ii){return this.ik.ii}else{return null}},auH:function(){var eI=this;return new Promise(function(ce,aj){var JU=indexedDB.open(f6.afw.XA,eI.ajR);JU.onblocked=function(bI){f6.ay(f6.J.abL);f6.eT(f6.J.abL);aj()};JU.onupgradeneeded=function(bI){eI.wS=bI.target.result;var xi=eI.wS.createObjectStore(f6d.lf.xg,{autoIncrement:true});xi.createIndex(f6d.fV[0]+","+f6d.fV[1]+","+f6d.fV[2]+","+f6d.fV[3]+","+f6d.fV[4]+","+f6d.fV[5]+","+f6d.fV[6]+","+f6d.fV[7],[f6d.fV[0],f6d.fV[1],f6d.fV[2],f6d.fV[3],f6d.fV[4],f6d.fV[5],f6d.fV[6],f6d.fV[7]],{unique:true});ce({kF:f6.cf.BV,ab:f6.CS.IA})};JU.onsuccess=function(bI){eI.wS=bI.target.result;eI.wS.onversionchange=function(bI){f6.ay(f6.J.aaF);f6.eT(f6.J.aaF);eI.wS.close()};ce({kF:f6.cf.BV,ab:f6.CS.IA})};JU.onerror=function(bI){f6.ay(bI.target.errorCode);f6.eT(f6.J.alR);aj()}})},amo:function(ba){var O=ba.O,C=ba.C,V=ba.V,bV=ba.bV,dg=ba.dg,aR=ba.aR,bz=ba.bz,aC=ba.aC;var eI=this;return new Promise(function(ce,aj){var fi=[];var jS=[];var jV=[];var ru=eI.wS.transaction([f6d.lf.xg],f6d.RW.XD);var xi=ru.objectStore(f6d.lf.xg);var oR=IDBKeyRange.bound([O,C,V,bV,dg,aR,f6.t.acM,f6.t.acM],[O,C,V,bV,dg,aR,f6.t.wA,f6.t.wA],false,false);var hv=xi.index(f6d.fV[0]+","+f6d.fV[1]+","+f6d.fV[2]+","+f6d.fV[3]+","+f6d.fV[4]+","+f6d.fV[5]+","+f6d.fV[6]+","+f6d.fV[7]);hv.openKeyCursor(oR).onsuccess=function(bI){var bs=bI.target.result;if(bs){if(aC!=null){if((bs.key[f6d.lf.zK]>=bz&&aC>bs.key[f6d.lf.zK])||(bs.key[f6d.lf.zN]>bz&&aC>=bs.key[f6d.lf.zN])||(bs.key[f6d.lf.zK]>=bz&&aC>=bs.key[f6d.lf.zN])||(bs.key[f6d.lf.zK]<=bz&&aC<=bs.key[f6d.lf.zN])){fi.push({bz:bs.key[f6d.lf.zK],aC:bs.key[f6d.lf.zN]})}}else{if(bs.key[f6d.lf.zN]>bz){fi.push({bz:bs.key[f6d.lf.zK],aC:bs.key[f6d.lf.zN]})}}bs.continue()}};ru.oncomplete=function(bI){
 if(fi.length>1){fi.sort(function(BA,Ez){return BA.bz-Ez.bz})}if(fi.length>=2){for(var i=0;i<(fi.length-1);i += 1){if(fi[i].aC<fi[i+1].bz){jS.push({bz:fi[i].aC,aC:fi[i+1].bz})}}}if(fi.length>=1){if(bz<fi[0].bz){jS.splice(0,0,{bz:bz,aC:fi[0].bz})}if(aC!=null){if(aC>fi[fi.length-1].aC){jS.push({bz:fi[fi.length-1].aC,aC:aC})}}else{jS.push({bz:fi[fi.length-1].aC,aC:aC})}}else{jS.push({bz:bz,aC:aC})}if(!f6.IL(aR)){var hi=f6.nh(aR);if(hi!=null){var tN=eI.lM[f6.kU(O)].afH()*hi;for(var i in jS){if(jS[i].aC!=null){if((jS[i].aC-jS[i].bz)>tN){var nX=jS[i].bz;while(nX<jS[i].aC){if((nX+tN)>=jS[i].aC){jV.push({bz:nX,aC:jS[i].aC})}else{jV.push({bz:nX,aC:nX+tN})}nX+=tN}}else{jV.push(jS[i])}}else{var BU=hi*Math.round((Date.now()/1000)/hi);if((BU-jS[i].bz)>=tN){var nX=jS[i].bz;while(nX<=BU){if((nX+tN)==BU){jV.push({bz:nX,aC:BU})}else if((nX+tN)>BU){jV.push({bz:nX,aC:null})}else{jV.push({bz:nX,aC:nX+tN})}nX+=tN}}else{jV.push(jS[i])}}}}}else{jV=jS}var dp={O:O,C:C,V:V,bV:bV,dg:dg,aR:aR,bz:bz,aC:aC,fi:fi,jV:jV};ce(dp);
};ru.onerror=function(bI){f6.ay(bI.target.error);f6.eT(f6.J.anu);aj()}})},asm:function(ba){var O=ba.O,C=ba.C,V=ba.V,bV=ba.bV,dg=ba.dg,aR=ba.aR,bz=ba.bz,aC=ba.aC,F=ba.F,oZ=ba.oZ;var eI=this;return new Promise(function(ce,aj){
 if(F.length==0){if(oZ){var dp={O:O,C:C,V:V,bV:bV,dg:dg,aR:aR,bz:bz,aC:null,F:[],dS:[]};ce(dp);return}}var ru=eI.wS.transaction([f6d.lf.xg],f6d.RW.asb);var xi=ru.objectStore(f6d.lf.xg);var dS=[];if(oZ){if(bV==f6.dV.mO){for(var i=0;i<f6.bu.lU;i += 1){dS.push(F[F.length-(f6.bu.lU-i)])}if(aC==null){aC=F[F.length-(f6.bu.lU-f6.bu.kr)]}F.splice(F.length-f6.bu.lU,f6.bu.lU)}else{for(var i=0;i<f6.bu.kb;i += 1){dS.push(F[F.length-(f6.bu.kb-i)])}if(aC==null){aC=F[F.length-(f6.bu.kb-f6.bu.jh)]}F.splice(F.length-f6.bu.kb,f6.bu.kb)}}else{if(!f6.IL(aR)){var hi=f6.nh(aR);if(hi!=null){if(F.length>0){if(bV==f6.dV.mO){if(aC==null){aC=F[F.length-(f6.bu.lU-f6.bu.kr)]+hi}}else{if(aC==null){aC=F[F.length-(f6.bu.kb-f6.bu.jh)]+hi}}}}}else{if(F.length>0){if(bV==f6.dV.mO){for(var i=0;i<f6.bu.lU;i += 1){dS.push(F[F.length-(f6.bu.lU-i)])}if(aC==null){aC=F[F.length-(f6.bu.lU-f6.bu.kr)]}F.splice(F.length-f6.bu.lU,f6.bu.lU)}else{for(var i=0;i<f6.bu.kb;i += 1){dS.push(F[F.length-(f6.bu.kb-i)])}if(aC==null){aC=F[F.length-(f6.bu.kb-f6.bu.jh)]}F.splice(F.length-f6.bu.kb,f6.bu.kb)}}oZ=true}}if(F.length==0){if(oZ){var dp={O:O,C:C,V:V,bV:bV,dg:dg,aR:aR,bz:bz,aC:null,F:[],dS:dS};ce(dp);return}}var anP={O:O,C:C,V:V,bV:bV,dg:dg,aR:aR,bz:bz,aC:aC,F:F};var asA=xi.put(anP);asA.onsuccess=function(bI){};ru.oncomplete=function(bI){var dp={O:O,C:C,V:V,bV:bV,dg:dg,aR:aR,bz:bz,aC:aC,F:F,dS:dS};ce(dp)};ru.onerror=function(bI){f6.ay(bI.target.error);f6.eT(f6.J.anv);aj()}
})},adp:function(ba){var O=ba.O,C=ba.C,V=ba.V,bV=ba.bV,dg=ba.dg,aR=ba.aR,fi=ba.fi;var eI=this;return new Promise(function(ce,aj){
 if(fi.length==0){f6.ay(f6.J.aau+"("+V+", "+f6.tK(aR)+")");f6.eT(f6.J.aau+"("+V+", "+f6.tK(aR)+")");var dp={O:O,C:C,V:V,bV:bV,dg:dg,aR:aR,bz:0,aC:null,F:[]};ce(dp);return}var sS=[];var ru=eI.wS.transaction([f6d.lf.xg],f6d.RW.XD);var xi=ru.objectStore(f6d.lf.xg);var oR=IDBKeyRange.bound([O,C,V,bV,dg,aR,fi[0].bz,fi[0].aC],[O,C,V,bV,dg,aR,fi[fi.length-1].bz,fi[fi.length-1].aC],false,false);var hv=xi.index(f6d.fV[0]+","+f6d.fV[1]+","+f6d.fV[2]+","+f6d.fV[3]+","+f6d.fV[4]+","+f6d.fV[5]+","+f6d.fV[6]+","+f6d.fV[7]);hv.openCursor(oR).onsuccess=function(bI){var bs=bI.target.result;if(bs){sS.push({bz:bs.value.bz,aC:bs.value.aC,F:bs.value.F});bs.continue()}};ru.oncomplete=function(bI){
  if(sS.length>1){sS.sort(function(BA,Ez){return BA.bz-Ez.bz})}var F=[];for(var i in sS){for(var j in sS[i].F){F.push(sS[i].F[j])}}var dp={O:O,C:C,V:V,bV:bV,dg:dg,aR:aR,bz:sS.length>0?sS[0].bz:null,aC:sS.length>0?sS[sS.length-1].aC:null,F:F};ce(dp);
 };ru.onerror=function(bI){f6.ay(bI.target.error);f6.eT(f6.J.anq);aj()}
})},un:[],aeq:function(qu){return qu.O+":::"+qu.C+":::"+qu.V+":::"+qu.bV+":::"+qu.dg+":::"+qu.aR+":::"+qu.bz+":::"+qu.aC},asq:function(mY){
 var bd=this.aeq(mY);if(typeof this.un[bd]!=f6.t.G){this.un[bd].abj=true}var JG=0;var oJ=0;for(var i in this.un){if(this.un[i].O==mY.O&&this.un[i].C==mY.C&&this.un[i].V==mY.V&&this.un[i].aR==mY.aR){if(this.un[i].abj){JG += 1}oJ += 1}}var iQ={O:mY.O,C:mY.C,V:mY.V,aR:mY.aR,JG:JG,oJ:oJ};f6.kc(f6.cf.ZS,iQ);
},QT:function(nk){var O=nk.O,C=nk.C,V=nk.V,bV=nk.bV,dg=nk.dg,aR=nk.aR,bz=nk.bz,aC=nk.aC;var eI=this;var fi=[];var dS=[];return new Promise(function(xE,yO){eI.amo(nk).then(function(kN){for(var i in kN.fi){fi.push(kN.fi[i])}if(kN.jV.length>0){for(var i in kN.jV){if(kN.jV[i].aC!=null){var qu={O:kN.O,C:kN.C,V:kN.V,bV:kN.bV,dg:kN.dg,aR:kN.aR,bz:kN.jV[i].bz,aC:kN.jV[i].aC,abj:false};if(f6.cV==f6.cC.eF){eI.un[eI.aeq(qu)]=qu}}}return new Promise(function(ce,aj){
 var bs=0;function WB(bs){var aar={O:kN.O,C:kN.C,V:kN.V,bV:kN.bV,dg:kN.dg,aR:kN.aR,bz:kN.jV[bs].bz,aC:kN.jV[bs].aC};eI.lM[f6.kU(aar.O)].vk(aar).then(function(mY){return eI.asm(mY)}).then(function(mY){if(mY.aC!=null){fi.push({bz:mY.bz,aC:mY.aC});if(f6.cV==f6.cC.eF){eI.asq(mY)}}if(bs<(kN.jV.length-1)){bs += 1;WB(bs)}else{if(fi.length>1){fi.sort(function(BA,Ez){return BA.bz-Ez.bz})}dS=mY.dS;ce()}}).catch(function(){aj()})}WB(bs);
})}}).then(function(){var dp={O:O,C:C,V:V,bV:bV,dg:dg,aR:aR,fi:fi,dS:dS};xE(dp)}).catch(function(){yO()})})},HB:function(nk){this.QT(nk).then(function(mw){}).catch(function(){})},vk:function(wh){
 var aT=wh.aT,K=wh.K,O=wh.O,C=wh.C,V=wh.V,bV=wh.bV,dg=wh.dg,aR=wh.aR,aC=wh.aC;var hi=f6.nh(aR);var bz=null;if(!f6.IL(aR)){var ik=this.ana(aR);if (ik==null) {
  return;
 }var RD=null;if(aC==null){RD=Date.now()/1000}else{RD=aC}bz=hi*Math.round((RD-ik*hi)/hi)}else{bz=1200000000;aC=null}var nk={O:O,C:C,V:V,bV:bV,dg:dg,aR:aR,bz:bz,aC:aC};var eI=this;var dS=[];eI.QT(nk).then(function(mw){dS=mw.dS;var LY={O:mw.O,C:mw.C,V:mw.V,bV:mw.bV,dg:mw.dg,aR:mw.aR,fi:mw.fi};return eI.adp(LY)}).then(function(dj){var F=[];if(dj.bV==f6.dV.qD){for(var i=0;i<dj.F.length;i+=f6.bu.kb){if(bz<=dj.F[i+f6.bu.jh]&&(aC==null||dj.F[i+f6.bu.jh]<aC)&&(i==0||(i>0&&dj.F[i+f6.bu.jh]>dj.F[i+f6.bu.jh-f6.bu.kb]))){F.push(dj.F[i+f6.bu.jh]);F.push(dj.F[i+f6.bu.vS]);F.push(dj.F[i+f6.bu.tE]);F.push(dj.F[i+f6.bu.vu]);F.push(dj.F[i+f6.bu.ty]);F.push(dj.F[i+f6.bu.wU]);F.push(dj.F[i+f6.bu.Bj])}}}else if(dj.bV==f6.dV.cO){for(var i=0;i<dj.F.length;i+=f6.bu.kb){if(bz<=dj.F[i+f6.bu.jh]&&(aC==null||dj.F[i+f6.bu.jh]<aC)&&(i==0||(i>0&&dj.F[i+f6.bu.jh]>dj.F[i+f6.bu.jh-f6.bu.kb]))){F.push(dj.F[i+f6.bu.jh]);F.push(dj.F[i+f6.bu.vS]);F.push(dj.F[i+f6.bu.tE]);F.push(dj.F[i+f6.bu.vu]);F.push(dj.F[i+f6.bu.ty]);F.push(dj.F[i+f6.bu.wU]);F.push(dj.F[i+f6.bu.Bj])}}}else if(dj.bV==f6.dV.dK){for(var i=0;i<dj.F.length;i+=f6.bu.kb){if(bz<=dj.F[i+f6.bu.jh]&&(aC==null||dj.F[i+f6.bu.jh]<aC)&&(i==0||(i>0&&dj.F[i+f6.bu.jh]>dj.F[i+f6.bu.jh-f6.bu.kb]))){F.push(dj.F[i+f6.bu.jh]);F.push(dj.F[i+f6.bu.vS]);F.push(dj.F[i+f6.bu.tE]);F.push(dj.F[i+f6.bu.vu]);F.push(dj.F[i+f6.bu.ty]);F.push(dj.F[i+f6.bu.wU]);F.push(dj.F[i+f6.bu.Bj])}}}else if(dj.bV==f6.dV.mO){for(var i=0;i<dj.F.length;i+=f6.bu.lU){if(bz<=dj.F[i+f6.bu.kr]&&(aC==null||dj.F[i+f6.bu.kr]<aC)&&(i==0||(i>0&&dj.F[i+f6.bu.kr]>dj.F[i+f6.bu.kr-f6.bu.lU]))){F.push(dj.F[i+f6.bu.kr]);F.push(dj.F[i+f6.bu.GU]);F.push(dj.F[i+f6.bu.Hs]);F.push(dj.F[i+f6.bu.El]);F.push(dj.F[i+f6.bu.ED]);F.push(dj.F[i+f6.bu.Iy]);F.push(dj.F[i+f6.bu.Hg]);F.push(dj.F[i+f6.bu.Dn]);F.push(dj.F[i+f6.bu.CW]);F.push(dj.F[i+f6.bu.GZ]);F.push(dj.F[i+f6.bu.Tp])}}}if(dS.length>0){if(dj.bV==f6.dV.qD){F.push(dS[f6.bu.jh]);F.push(dS[f6.bu.vS]);F.push(dS[f6.bu.tE]);F.push(dS[f6.bu.vu]);F.push(dS[f6.bu.ty]);F.push(dS[f6.bu.wU]);F.push(dS[f6.bu.Bj])}else if(dj.bV==f6.dV.cO){F.push(dS[f6.bu.jh]);F.push(dS[f6.bu.vS]);F.push(dS[f6.bu.tE]);F.push(dS[f6.bu.vu]);F.push(dS[f6.bu.ty]);F.push(dS[f6.bu.wU]);F.push(dS[f6.bu.Bj])}else if(dj.bV==f6.dV.dK){F.push(dS[f6.bu.jh]);F.push(dS[f6.bu.vS]);F.push(dS[f6.bu.tE]);F.push(dS[f6.bu.vu]);F.push(dS[f6.bu.ty]);F.push(dS[f6.bu.wU]);F.push(dS[f6.bu.Bj])}else if(dj.bV==f6.dV.mO){F.push(dS[f6.bu.kr]);F.push(dS[f6.bu.GU]);F.push(dS[f6.bu.Hs]);F.push(dS[f6.bu.El]);F.push(dS[f6.bu.ED]);F.push(dS[f6.bu.Iy]);F.push(dS[f6.bu.Hg]);F.push(dS[f6.bu.Dn]);F.push(dS[f6.bu.CW]);F.push(dS[f6.bu.GZ]);F.push(dS[f6.bu.Tp])}}f6.kc(f6.cf.ZO,{aT:aT,K:K,F:F})}).catch(function(){});
},uR:function(qm){var O=qm.O,C=qm.C;this.lM[f6.kU(O)].uR(O,C).then(function(bN){f6.kc(f6.cf.Ke,{O:O,C:C,bN:bN})}).catch(function(){})},jc:[],bQ:function(O,C,V){return O+":::"+C+":::"+V},kH:function(jq){var O=jq.O,C=jq.C,bJ=jq.bJ;if(f6.cV==f6.cC.eV){this.lM[f6.kU(O)].kH(O,C,bJ)}else{for(var i in bJ){var bd=this.bQ(O,C,bJ[i]);this.jc[bd]={O:O,C:C,V:bJ[i]}}}},Eg:function(jq){var kY=f6.nh(jq.ga);if (kY==null) {
 return;
}kY=Math.round(kY/4);var bz=jq.bz;var aC=jq.aC;for(var a in this.jc){this.jc[a].F=null;var nk={O:this.jc[a].O,C:this.jc[a].C,V:this.jc[a].V,bV:f6.dV.mO,dg:f6.IH.KI,aR:jq.ga,bz:bz,aC:aC};var eI=this;eI.QT(nk).then(function(mw){var LY={O:mw.O,C:mw.C,V:mw.V,bV:mw.bV,dg:mw.dg,aR:mw.aR,fi:mw.fi};return eI.adp(LY)}).then(function(dj){
 var F=[];for(var i=0;i<dj.F.length;i+=f6.bu.lU){if(bz<=dj.F[i+f6.bu.kr]&&dj.F[i+f6.bu.kr]<aC&&(i==0||(i>0&&dj.F[i+f6.bu.kr]>dj.F[i+f6.bu.kr-f6.bu.lU]))){var ag=dj.F[i+f6.bu.GU]/4.0;F.push(dj.F[i+f6.bu.kr]);F.push(ag);F.push(dj.F[i+f6.bu.Hs]);F.push(dj.F[i+f6.bu.Hg]);if(dj.F[i+f6.bu.Tp]==f6.DM.UU){F.push(dj.F[i+f6.bu.kr]+kY);F.push(ag);F.push(dj.F[i+f6.bu.ED]);F.push(dj.F[i+f6.bu.CW]);F.push(dj.F[i+f6.bu.kr]+kY*2);F.push(ag);F.push(dj.F[i+f6.bu.El]);F.push(dj.F[i+f6.bu.Dn])}else{F.push(dj.F[i+f6.bu.kr]+kY);F.push(ag);F.push(dj.F[i+f6.bu.El]);F.push(dj.F[i+f6.bu.Dn]);F.push(dj.F[i+f6.bu.kr]+kY*2);F.push(ag);F.push(dj.F[i+f6.bu.ED]);F.push(dj.F[i+f6.bu.CW])}F.push(dj.F[i+f6.bu.kr]+kY*3);F.push(ag);F.push(dj.F[i+f6.bu.Iy]);F.push(dj.F[i+f6.bu.GZ])}}var bd=eI.bQ(dj.O,dj.C,dj.V);eI.jc[bd].F=F;f6.kc(f6.cf.aby,{O:dj.O,C:dj.C,V:dj.V,F:F});
}).catch(function(){})}},kZ:function(jq){var O=jq.O,C=jq.C;this.lM[f6.kU(O)].kZ(O,C)},oh:function(mX){f6.kc(f6.cf.aat,{F:mX})}};f6d.lM=[];f6d.lM[f6.md.cL]={or:null,NY:function(or){this.or=or},gm:null,Ot:function(gm){this.gm=gm},Ed:5000,afH:function(){return this.Ed},ec:{vL:"HEARTBEAT",aw:"PRICE"},ahb:[f6.aW.jt,f6.aW.iA,f6.aW.ic,f6.aW.ji,f6.aW.iy,f6.aW.lv,f6.aW.jG,f6.aW.iU,f6.aW.jn,f6.aW.jw,f6.aW.ir,f6.aW.ko,f6.aW.le,f6.aW.hV,f6.aW.kd,f6.aW.ly,f6.aW.ks,f6.aW.hK,f6.aW.ia,f6.aW.ii],Wc:function(aR){if(aR==f6.aW.jt){return f6.am.jt}else if(aR==f6.aW.iA){return f6.am.iA}else if(aR==f6.aW.ic){return f6.am.ic}else if(aR==f6.aW.ji){return f6.am.ji}else if(aR==f6.aW.iy){return f6.am.iy}else if(aR==f6.aW.lv){return f6.am.lv}else if(aR==f6.aW.jG){return f6.am.jG}else if(aR==f6.aW.iU){return f6.am.iU}else if(aR==f6.aW.ka){return f6.am.ka}else if(aR==f6.aW.jn){return f6.am.jn}else if(aR==f6.aW.jw){return f6.am.jw}else if(aR==f6.aW.ir){return f6.am.ir}else if(aR==f6.aW.ko){return f6.am.ko}else if(aR==f6.aW.le){return f6.am.le}else if(aR==f6.aW.hV){return f6.am.hV}else if(aR==f6.aW.kd){return f6.am.kd}else if(aR==f6.aW.ly){return f6.am.ly}else if(aR==f6.aW.ks){return f6.am.ks}else if(aR==f6.aW.hK){return f6.am.hK}else if(aR==f6.aW.ia){return f6.am.ia}else if(aR==f6.aW.ii){return f6.am.ii}else{return null}},US:function(aR){if(aR==f6.am.jt){return f6.aW.jt}else if(aR==f6.am.iA){return f6.aW.iA}else if(aR==f6.am.ic){return f6.aW.ic}else if(aR==f6.am.ji){return f6.aW.ji}else if(aR==f6.am.iy){return f6.aW.iy}else if(aR==f6.am.lv){return f6.aW.lv}else if(aR==f6.am.jG){return f6.aW.jG}else if(aR==f6.am.iU){return f6.aW.iU}else if(aR==f6.am.ka){return f6.aW.ka}else if(aR==f6.am.jn){return f6.aW.jn}else if(aR==f6.am.jw){return f6.aW.jw}else if(aR==f6.am.ir){return f6.aW.ir}else if(aR==f6.am.ko){return f6.aW.ko}else if(aR==f6.am.le){return f6.aW.le}else if(aR==f6.am.hV){return f6.aW.hV}else if(aR==f6.am.kd){return f6.aW.kd}else if(aR==f6.am.ly){return f6.aW.ly}else if(aR==f6.am.ks){return f6.aW.ks}else if(aR==f6.am.hK){return f6.aW.hK}else if(aR==f6.am.ia){return f6.aW.ia}else if(aR==f6.am.ii){return f6.aW.ii}else{return null}},RH:function(bV){if(bV==f6.dV.qD){return "M"}else if(bV==f6.dV.cO){return "B"}else if(bV==f6.dV.dK){return "A"}else if(bV==f6.dV.mO){return "BA"}else{return null}},OI:function(cP){if(typeof cP.complete!=f6.t.G&&cP.complete!=null){if(cP.complete!=true&&cP.complete!=false){throw new Error(f6.J.eQ)}return!cP.complete}else{throw new Error(f6.J.eQ)}},DA:function(H,hi){if(f6.au(H.time)){if(hi!=null){return Math.floor(parseFloat(H.time)/hi)*hi}else{return Math.floor(parseFloat(H.time))}}else{throw new Error(f6.J.eQ)}},Ty:function(cP){if(f6.au(cP.volume)){return parseFloat(cP.volume)}else{throw new Error(f6.J.eQ)}},rk:function(cP){if(f6.au(cP.o)){return parseFloat(cP.o)}else{throw new Error(f6.J.eQ)}},qX:function(cP){if(f6.au(cP.h)){return parseFloat(cP.h)}else{throw new Error(f6.J.eQ)}},pN:function(cP){if(f6.au(cP.l)){return parseFloat(cP.l)}else{throw new Error(f6.J.eQ)}},rr:function(cP){if(f6.au(cP.c)){return parseFloat(cP.c)}else{throw new Error(f6.J.eQ)}},qT:function(H){if(typeof H.instrument==f6.t.v){return H.instrument}else{throw new Error(f6.J.eQ)}},TC:function(H){if(f6.dI(H.bids)){var nY=[];for(var i in H.bids){var cO=H.bids[i];if(f6.au(cO.price)&&f6.au(cO.liquidity)){var aw=parseFloat(cO.price);if(aw>0.0){nY.push({aw:aw,CC:parseFloat(cO.liquidity)})}}}return nY}else{throw new Error(f6.J.eQ)}},TK:function(H){if(f6.dI(H.asks)){var nv=[];for(var i in H.asks){var dK=H.asks[i];if(f6.au(dK.price)&&f6.au(dK.liquidity)){var aw=parseFloat(dK.price);if(aw>0.0){nv.push({aw:aw,CC:parseFloat(dK.liquidity)})}}}return nv}else{throw new Error(f6.J.eQ)}},alG:function(H){if(f6.au(H.closeoutBid)){return parseFloat(H.closeoutBid)}else{throw new Error(f6.J.eQ)}},amR:function(H){if(f6.au(H.closeoutAsk)){return parseFloat(H.closeoutAsk)}else{throw new Error(f6.J.eQ)}},awP:function(H){if(typeof H.status==f6.t.v){return H.status}else{throw new Error(f6.J.eQ)}},awd:function(H){if(typeof H.tradeable==f6.t.fJ){return H.tradeable}else{throw new Error(f6.J.eQ)}},wP:function(O,H){if(f6.dI(H)){var bN=[];for(var i in H){var ah=H[i];if(typeof ah.displayName==f6.t.v&&typeof ah.symbolName==f6.t.v&&typeof ah.basicCurrency==f6.t.v&&typeof ah.tradableSymbol==f6.t.v&&f6.au(ah.toFixed)&&typeof ah.toFixed!=f6.t.v&&f6.au(ah.cyBuySwap)&&typeof ah.cyBuySwap!=f6.t.v&&f6.au(ah.cySellSwap)&&typeof ah.cySellSwap!=f6.t.v&&f6.au(ah.trdBuySwap)&&typeof ah.trdBuySwap!=f6.t.v&&f6.au(ah.trdSellSwap)&&typeof ah.trdSellSwap!=f6.t.v&&f6.au(ah.leverage)&&typeof ah.leverage!=f6.t.v&&f6.au(ah.lotsLimit)&&typeof ah.lotsLimit!=f6.t.v&&f6.au(ah.cyBuyOpnCmmssn)&&typeof ah.cyBuyOpnCmmssn!=f6.t.v&&f6.au(ah.cyBuyClsdCmmssn)&&typeof ah.cyBuyClsdCmmssn!=f6.t.v&&f6.au(ah.cySellOpnCmmssn)&&typeof ah.cySellOpnCmmssn!=f6.t.v&&f6.au(ah.cySellClsdCmmssn)&&typeof ah.cySellClsdCmmssn!=f6.t.v&&f6.au(ah.trdBuyOpnCmmssn)&&typeof ah.trdBuyOpnCmmssn!=f6.t.v&&f6.au(ah.trdBuyClsdCmmssn)&&typeof ah.trdBuyClsdCmmssn!=f6.t.v&&f6.au(ah.trdSellOpnCmmssn)&&typeof ah.trdSellOpnCmmssn!=f6.t.v&&f6.au(ah.trdSellClsdCmmssn)&&typeof ah.trdSellClsdCmmssn!=f6.t.v&&f6.au(ah.lotsMinLimit)&&typeof ah.lotsMinLimit!=f6.t.v&&f6.au(ah.lotsStep)&&typeof ah.lotsStep!=f6.t.v&&f6.au(ah.limitStopMin)&&typeof ah.limitStopMin!=f6.t.v){if(typeof ah.bSpecialDay==f6.t.fJ){if(ah.bSpecialDay){if(!f6.ai(ah.specialDay)||typeof ah.specialDay==f6.t.v||ah.specialDay<f6.jY.As||ah.specialDay>f6.jY.De){throw new Error(f6.J.nS)}}else{ah.specialDay=null}}else{throw new Error(f6.J.nS)}bN.push({V:ah.symbolName,bh:ah.displayName,sv:ah.basicCurrency,Ci:ah.tradableSymbol,bD:ah.toFixed,Ew:ah.cyBuySwap,DQ:ah.cySellSwap,KF:ah.trdBuySwap,Lp:ah.trdSellSwap,zt:ah.bSpecialDay,zz:ah.specialDay,pd:ah.leverage,wV:ah.lotsLimit,KK:ah.cyBuyOpnCmmssn,JP:ah.cyBuyClsdCmmssn,Ly:ah.cySellOpnCmmssn,Ll:ah.cySellClsdCmmssn,SI:ah.trdBuyOpnCmmssn,Ud:ah.trdBuyClsdCmmssn,TS:ah.trdSellOpnCmmssn,SR:ah.trdSellClsdCmmssn,rE:ah.lotsMinLimit,pE:ah.lotsStep,pg:ah.limitStopMin})}else{throw new Error(f6.J.nS)}}return bN}else{throw new Error(f6.J.nS)}},vk:function(ba){var O=ba.O,C=ba.C,V=ba.V,bV=ba.bV,dg=ba.dg,aR=ba.aR,bz=ba.bz,aC=ba.aC;var bn=this;return new Promise(function(ce,aj){var Dj=function(){
 var ja={price:bn.RH(bV),granularity:bn.Wc(aR),from:bz};if(aC!=null){ja.to=aC}else{if(f6.adf(O)){ja.count=bn.Ed}}var Hl=function(){var ny=f6.kQ(O,C);if(ny!=null){var ap=Math.floor(new Date().getTime()/1000);if((ap-ny.adH)>=ny.vo){ny.xJ=false;f6.ZF(O,C,ny)}else{setTimeout(Hl,Math.ceil(ny.adH+ny.vo-ap))}}};bn.or.ta.Ya(O,C,V,ja).then(function(H){try{if(typeof H.instrument!=f6.t.G&&H.instrument&&typeof H.granularity!=f6.t.G&&H.granularity&&typeof H.candles!=f6.t.G&&H.candles&&(V==H.instrument||V==H.instrument.replace("_","/"))&&aR==bn.US(H.granularity)){var dp={O:O,C:C,V:V,aR:aR,dg:dg,bV:null,bz:null,aC:null,F:[],oZ:false};if(!f6.dI(H.candles)){throw new Error(f6.J.eQ+" A")}if(H.candles.length>0){
  var jO="";var ze=H.candles[0];if(typeof ze.mid!=f6.t.G&&ze.mid!=null){jO+=f6.dV.qD}else{if(typeof ze.bid!=f6.t.G&&ze.bid!=null){jO+=f6.dV.cO}if(typeof ze.ask!=f6.t.G&&ze.ask!=null){jO+=f6.dV.dK}}if(jO===""||jO!=bV){throw new Error(f6.J.eQ+" T")}var AR=f6.t.aey;var hi=f6.nh(aR);dp.oZ=bn.OI(H.candles[H.candles.length-1]);for(var i=0;i<H.candles.length;i += 1){
   var fD=H.candles[i];var nG=bn.DA(fD,hi);if(AR>nG){throw new Error(f6.J.ZX)}else if(AR==nG){continue}if(nG<bz){continue}if(aC!=null){if(nG>=aC){continue}}dp.F.push(nG);AR=nG;dp.F.push(bn.Ty(fD));if(jO==f6.dV.qD){if(typeof fD.mid!=f6.t.G&&fD.mid!=null){dp.F.push(bn.rk(fD.mid));dp.F.push(bn.qX(fD.mid));dp.F.push(bn.pN(fD.mid));dp.F.push(bn.rr(fD.mid))}else{throw new Error(f6.J.eQ+" "+f6.dV.qD+" "+JSON.stringify(fD))}}else if(jO==f6.dV.cO){if(typeof fD.bid!=f6.t.G&&fD.bid!=null){dp.F.push(bn.rk(fD.bid));dp.F.push(bn.qX(fD.bid));dp.F.push(bn.pN(fD.bid));dp.F.push(bn.rr(fD.bid))}else{throw new Error(f6.J.eQ+" "+f6.dV.cO+" "+JSON.stringify(fD))}}else if(jO==f6.dV.dK){if(typeof fD.ask!=f6.t.G&&fD.ask!=null){dp.F.push(bn.rk(fD.ask));dp.F.push(bn.qX(fD.ask));dp.F.push(bn.pN(fD.ask));dp.F.push(bn.rr(fD.ask))}else{throw new Error(f6.J.eQ+" "+f6.dV.dK+" "+JSON.stringify(fD))}}else if(jO==f6.dV.mO){if(typeof fD.bid!=f6.t.G&&fD.bid!=null){dp.F.push(bn.rk(fD.bid));dp.F.push(bn.qX(fD.bid));dp.F.push(bn.pN(fD.bid));dp.F.push(bn.rr(fD.bid))}else{throw new Error(f6.J.eQ+" "+f6.dV.mO+" "+JSON.stringify(fD))}if(typeof fD.ask!=f6.t.G&&fD.ask!=null){dp.F.push(bn.rk(fD.ask));dp.F.push(bn.qX(fD.ask));dp.F.push(bn.pN(fD.ask));dp.F.push(bn.rr(fD.ask))}else{throw new Error(f6.J.eQ+" "+f6.dV.mO+" "+JSON.stringify(fD))}}var vf=null;if(typeof fD.lhOrHl==f6.t.G||fD.lhOrHl==null){if(Math.random()>0.5){vf=f6.DM.UU}else{vf=f6.DM.sX}}else{vf=fD.lhOrHl}dp.F.push(vf);
  }if(dp.F.length==0){if(aC!=null){dp.oZ=false}else{dp.oZ=true}}
 }else{if(aC!=null){dp.oZ=false}else{dp.oZ=true}}dp.bV=bV;dp.bz=bz;dp.aC=aC;ce(dp);if(aC!=null){Hl()}}else{throw new Error(f6.J.eQ+" "+JSON.stringify(H))}}catch(e){f6.ay(JSON.stringify(ba)+" "+e.message);f6.eT(e.message);aj();if(aC!=null){Hl()}}}).catch(function(){aj();if(aC!=null){Hl()}});
};var acX=function(){var T=f6.kQ(O,C);if(T!=null){var vo=T.vo;var xJ=T.xJ;if(xJ){setTimeout(acX,1000)}else{T.xJ=true;T.adH=Math.floor(new Date().getTime()/1000);if(f6.ZF(O,C,T)){Dj()}else{aj()}}}else{aj()}};if(aC!=null){acX()}else{Dj()}})},uR:function(O,C){var bn=this;return new Promise(function(ce,aj){bn.or.bC.ta(O,C,{}).then(function(aN){try{ce(bn.wP(O,aN.instruments))}catch(e){f6.ay(e.message);f6.eT(e.message);aj()}}).catch(function(){aj()})})},kH:function(O,C,bJ){var bn=this;this.or.DG.rs(O,C,{instruments:bJ.join(",")},function(H){var aP=null;try{if(typeof H.type!=f6.t.G&&H.type){if(H.type==bn.ec.vL){}else if(H.type==bn.ec.aw){aP={O:O,C:C,V:bn.qT(H),ap:bn.DA(H),ag:null,nY:bn.TC(H),nv:bn.TK(H)}}}}catch(e){f6.ay(JSON.stringify(H)+" "+e.message)}if(aP!=null){bn.gm.oh(aP)}})},kZ:function(O,C){this.or.DG.uu(O,C)}};f6d.lM[f6.md.wo]={or:null,NY:function(or){this.or=or},gm:null,Ot:function(gm){this.gm=gm},Ed:5000,afH:function(){return this.Ed},ec:{vL:"HEARTBEAT",aw:"PRICE"},ahb:[f6.aW.jt,f6.aW.iA,f6.aW.ic,f6.aW.ji,f6.aW.iy,f6.aW.lv,f6.aW.jG,f6.aW.iU,f6.aW.jn,f6.aW.jw,f6.aW.ir,f6.aW.ko,f6.aW.le,f6.aW.hV,f6.aW.kd,f6.aW.ly,f6.aW.ks,f6.aW.hK,f6.aW.ia,f6.aW.ii],Wc:function(aR){if(aR==f6.aW.jt){return f6.am.jt}else if(aR==f6.aW.iA){return f6.am.iA}else if(aR==f6.aW.ic){return f6.am.ic}else if(aR==f6.aW.ji){return f6.am.ji}else if(aR==f6.aW.iy){return f6.am.iy}else if(aR==f6.aW.lv){return f6.am.lv}else if(aR==f6.aW.jG){return f6.am.jG}else if(aR==f6.aW.iU){return f6.am.iU}else if(aR==f6.aW.ka){return f6.am.ka}else if(aR==f6.aW.jn){return f6.am.jn}else if(aR==f6.aW.jw){return f6.am.jw}else if(aR==f6.aW.ir){return f6.am.ir}else if(aR==f6.aW.ko){return f6.am.ko}else if(aR==f6.aW.le){return f6.am.le}else if(aR==f6.aW.hV){return f6.am.hV}else if(aR==f6.aW.kd){return f6.am.kd}else if(aR==f6.aW.ly){return f6.am.ly}else if(aR==f6.aW.ks){return f6.am.ks}else if(aR==f6.aW.hK){return f6.am.hK}else if(aR==f6.aW.ia){return f6.am.ia}else if(aR==f6.aW.ii){return f6.am.ii}else{return null}},US:function(aR){if(aR==f6.am.jt){return f6.aW.jt}else if(aR==f6.am.iA){return f6.aW.iA}else if(aR==f6.am.ic){return f6.aW.ic}else if(aR==f6.am.ji){return f6.aW.ji}else if(aR==f6.am.iy){return f6.aW.iy}else if(aR==f6.am.lv){return f6.aW.lv}else if(aR==f6.am.jG){return f6.aW.jG}else if(aR==f6.am.iU){return f6.aW.iU}else if(aR==f6.am.ka){return f6.aW.ka}else if(aR==f6.am.jn){return f6.aW.jn}else if(aR==f6.am.jw){return f6.aW.jw}else if(aR==f6.am.ir){return f6.aW.ir}else if(aR==f6.am.ko){return f6.aW.ko}else if(aR==f6.am.le){return f6.aW.le}else if(aR==f6.am.hV){return f6.aW.hV}else if(aR==f6.am.kd){return f6.aW.kd}else if(aR==f6.am.ly){return f6.aW.ly}else if(aR==f6.am.ks){return f6.aW.ks}else if(aR==f6.am.hK){return f6.aW.hK}else if(aR==f6.am.ia){return f6.aW.ia}else if(aR==f6.am.ii){return f6.aW.ii}else{return null}},RH:function(bV){if(bV==f6.dV.qD){return "M"}else if(bV==f6.dV.cO){return "B"}else if(bV==f6.dV.dK){return "A"}else if(bV==f6.dV.mO){return "BA"}else{return null}},OI:function(cP){if(typeof cP.complete!=f6.t.G&&cP.complete!=null){if(cP.complete!=true&&cP.complete!=false){throw new Error(f6.J.eQ)}return!cP.complete}else{throw new Error(f6.J.eQ)}},DA:function(H,hi){if(f6.au(H.time)){if(hi!=null){return Math.floor(parseFloat(H.time)/hi)*hi}else{return Math.floor(parseFloat(H.time))}}else{throw new Error(f6.J.eQ)}},Ty:function(cP){if(f6.au(cP.volume)){return parseFloat(cP.volume)}else{throw new Error(f6.J.eQ)}},rk:function(cP){if(f6.au(cP.o)){return parseFloat(cP.o)}else{throw new Error(f6.J.eQ)}},qX:function(cP){if(f6.au(cP.h)){return parseFloat(cP.h)}else{throw new Error(f6.J.eQ)}},pN:function(cP){if(f6.au(cP.l)){return parseFloat(cP.l)}else{throw new Error(f6.J.eQ)}},rr:function(cP){if(f6.au(cP.c)){return parseFloat(cP.c)}else{throw new Error(f6.J.eQ)}},qT:function(H){if(typeof H.instrument==f6.t.v){return H.instrument}else{throw new Error(f6.J.eQ)}},TC:function(H){if(f6.dI(H.bids)){var nY=[];for(var i in H.bids){if(f6.au(H.bids[i].price)&&f6.au(H.bids[i].liquidity)){var aw=parseFloat(H.bids[i].price);if(aw>0.0){nY.push({aw:aw,CC:parseFloat(H.bids[i].liquidity)})}}}return nY}else{throw new Error(f6.J.eQ)}},TK:function(H){if(f6.dI(H.asks)){var nv=[];for(var i in H.asks){if(f6.au(H.asks[i].price)&&f6.au(H.asks[i].liquidity)){var aw=parseFloat(H.asks[i].price);if(aw>0.0){nv.push({aw:aw,CC:parseFloat(H.asks[i].liquidity)})}}}return nv}else{throw new Error(f6.J.eQ)}},alG:function(H){if(f6.au(H.closeoutBid)){return parseFloat(H.closeoutBid)}else{throw new Error(f6.J.eQ)}},amR:function(H){if(f6.au(H.closeoutAsk)){return parseFloat(H.closeoutAsk)}else{throw new Error(f6.J.eQ)}},awP:function(H){if(typeof H.status==f6.t.v){return H.status}else{throw new Error(f6.J.eQ)}},awd:function(H){if(typeof H.tradeable==f6.t.fJ){return H.tradeable}else{throw new Error(f6.J.eQ)}},wP:function(O,H){if(f6.dI(H)){var bN=[];var cg=f6.kD(O);for(var i in H){if(typeof H[i].displayName==f6.t.v&&typeof H[i].name==f6.t.v&&f6.au(H[i].displayPrecision)&&typeof H[i].displayPrecision!=f6.t.v&&f6.au(H[i].marginRate)&&typeof H[i].marginRate==f6.t.v&&f6.au(H[i].maximumOrderUnits)&&typeof H[i].maximumOrderUnits==f6.t.v){var an=H[i].name.split("_");if(an.length!=2){throw new Error(f6.J.nS)}bN.push({V:H[i].name,bh:H[i].displayName,sv:an[1],Ci:an[0],bD:Math.pow(10,H[i].displayPrecision),Ew:0.0,DQ:0.0,KF:0.0,Lp:0.0,zt:true,zz:3,pd:1.0/parseFloat(H[i].marginRate),wV:parseFloat(H[i].maximumOrderUnits)/cg,KK:0.0,JP:0.0,Ly:0.0,Ll:0.0,SI:0.0,Ud:0.0,TS:0.0,SR:0.0,rE:parseFloat(H[i].minimumTradeSize)/cg,pE:parseFloat(H[i].minimumTradeSize)/cg,pg:0.0})}else{throw new Error(f6.J.nS)}}return bN}else{throw new Error(f6.J.nS)}},vk:function(ba){var O=ba.O,C=ba.C,V=ba.V,bV=ba.bV,dg=ba.dg,aR=ba.aR,bz=ba.bz,aC=ba.aC;var bn=this;return new Promise(function(ce,aj){var ja={price:bn.RH(bV),granularity:bn.Wc(aR),from:bz};if(aC!=null){ja.to=aC}else{ja.count=bn.Ed}bn.or.ta.Ya(O,C,V,ja).then(function(H){try{if(typeof H.instrument!=f6.t.G&&H.instrument&&typeof H.granularity!=f6.t.G&&H.granularity&&typeof H.candles!=f6.t.G&&H.candles&&V==H.instrument&&aR==bn.US(H.granularity)){var dp={O:O,C:C,V:H.instrument,aR:aR,dg:dg,bV:null,bz:null,aC:null,F:[],oZ:false};if(!f6.dI(H.candles)){throw new Error(f6.J.eQ)}if(H.candles.length>0){
 var jO="";if(typeof H.candles[0].mid!=f6.t.G&&H.candles[0].mid!=null){jO+=f6.dV.qD}else{if(typeof H.candles[0].bid!=f6.t.G&&H.candles[0].bid!=null){jO+=f6.dV.cO}if(typeof H.candles[0].ask!=f6.t.G&&H.candles[0].ask!=null){jO+=f6.dV.dK}}if(jO===""||jO!=bV){throw new Error(f6.J.eQ)}var AR=f6.t.aey;var hi=f6.nh(aR);dp.oZ=bn.OI(H.candles[H.candles.length-1]);for(var i=0;i<H.candles.length;i += 1){
  var nG=bn.DA(H.candles[i],hi);if(AR>=nG){throw new Error(f6.J.ZX)}else if(AR==nG){continue}if(nG<bz){continue}if(aC!=null){if(nG>=aC){continue}}dp.F.push(nG);AR=nG;dp.F.push(bn.Ty(H.candles[i]));if(jO==f6.dV.qD){if(typeof H.candles[i].mid!=f6.t.G&&H.candles[i].mid!=null){dp.F.push(bn.rk(H.candles[i].mid));dp.F.push(bn.qX(H.candles[i].mid));dp.F.push(bn.pN(H.candles[i].mid));dp.F.push(bn.rr(H.candles[i].mid))}else{throw new Error(f6.J.eQ)}}else if(jO==f6.dV.cO){if(typeof H.candles[i].bid!=f6.t.G&&H.candles[i].bid!=null){dp.F.push(bn.rk(H.candles[i].bid));dp.F.push(bn.qX(H.candles[i].bid));dp.F.push(bn.pN(H.candles[i].bid));dp.F.push(bn.rr(H.candles[i].bid))}else{throw new Error(f6.J.eQ)}}else if(jO==f6.dV.dK){if(typeof H.candles[i].ask!=f6.t.G&&H.candles[i].ask!=null){dp.F.push(bn.rk(H.candles[i].ask));dp.F.push(bn.qX(H.candles[i].ask));dp.F.push(bn.pN(H.candles[i].ask));dp.F.push(bn.rr(H.candles[i].ask))}else{throw new Error(f6.J.eQ)}}else if(jO==f6.dV.mO){if(typeof H.candles[i].bid!=f6.t.G&&H.candles[i].bid!=null){dp.F.push(bn.rk(H.candles[i].bid));dp.F.push(bn.qX(H.candles[i].bid));dp.F.push(bn.pN(H.candles[i].bid));dp.F.push(bn.rr(H.candles[i].bid))}else{throw new Error(f6.J.eQ)}if(typeof H.candles[i].ask!=f6.t.G&&H.candles[i].ask!=null){dp.F.push(bn.rk(H.candles[i].ask));dp.F.push(bn.qX(H.candles[i].ask));dp.F.push(bn.pN(H.candles[i].ask));dp.F.push(bn.rr(H.candles[i].ask))}else{throw new Error(f6.J.eQ)}}var vf=null;if(typeof H.candles[i].lhOrHl==f6.t.G||H.candles[i].lhOrHl==null){if(Math.random()>0.5){vf=f6.DM.UU}else{vf=f6.DM.sX}}else{vf=H.candles[i].lhOrHl}dp.F.push(vf);
 }
}else{if(aC!=null){dp.oZ=false}else{dp.oZ=true}}dp.bV=bV;dp.bz=bz;dp.aC=aC;ce(dp)}else{throw new Error(f6.J.eQ)}}catch(e){f6.ay(JSON.stringify(ba)+" "+e.message);f6.eT(e.message);aj()}}).catch(function(){aj()})})},uR:function(O,C){var bn=this;return new Promise(function(ce,aj){bn.or.bC.ta(O,C,{}).then(function(aN){try{ce(bn.wP(O,aN.instruments))}catch(e){f6.ay(e.message);f6.eT(e.message);aj()}}).catch(function(){aj()})})},kH:function(O,C,bJ){var bn=this;this.or.DG.rs(O,C,{instruments:bJ.join(","),snapshot:false},function(H){var aP=null;try{if(typeof H.type!=f6.t.G&&H.type){if(H.type==bn.ec.vL){}else if(H.type==bn.ec.aw){aP={O:O,C:C,V:bn.qT(H),ap:bn.DA(H),nY:bn.TC(H),nv:bn.TK(H)}}}}catch(e){f6.ay(JSON.stringify(H)+" "+e.message)}if(aP!=null){bn.gm.oh(aP)}})},kZ:function(O,C){}};f6d.kB={};f6d.kB.ali=function(hF,kK,ro,yr){return new Promise(function(ce,aj){try{var cX=new XMLHttpRequest();if(kK===f6.dO.mK||kK===f6.dO.wY){cX.open(kK,hF,true);for(var i in yr){cX.setRequestHeader(yr[i].adJ,yr[i].Yg)}cX.send(JSON.stringify(ro))}else if(kK===f6.dO.fB){cX.open(kK,hF+"?"+f6.Fx(ro),true);cX.send(null)}else{throw new Error(f6.J.DZ)}cX.onreadystatechange=function(){if(cX.readyState==4){if(cX.status==200||cX.status==0){try{if(cX.responseText!=""){ce(JSON.parse(cX.responseText))}else{ce(cX.responseText)}}catch(e){f6.ay(e.message);f6.eT(e.message);aj()}}else{f6.ay(cX.status+" "+cX.responseText);f6.eT(cX.status+" "+cX.responseText);aj()}}};cX.onerror=function(){f6.ay(f6.J.sb);f6.eT(f6.J.sb);aj()}}catch(e){f6.ay(e.message);f6.eT(e.message);aj()}})};f6d.kB.jk=function(qe,hF,kK,ro,gQ){return new Promise(function(ce,aj){try{var cX=new XMLHttpRequest();if(kK===f6.dO.mK||kK===f6.dO.wY){cX.open(kK,qe+hF,true);cX.setRequestHeader(f6.dO.YQ,f6.dO.ZA);cX.setRequestHeader(f6.dO.DY,f6.dO.yg+" "+gQ);cX.send(JSON.stringify(ro))}else if(kK===f6.dO.fB){cX.open(kK,qe+hF+"?"+f6.Fx(ro),true);cX.setRequestHeader(f6.dO.DY,f6.dO.yg+" "+gQ);cX.send(null)}else{throw new Error(f6.J.DZ)}cX.onreadystatechange=function(){if(cX.readyState==4){if(cX.status==200||cX.status==0){try{if(cX.responseText!=""){ce(JSON.parse(cX.responseText))}else{ce(cX.responseText)}}catch(e){f6.ay(e.message);f6.eT(e.message);aj()}}else{f6.ay(cX.status+" "+cX.responseText);f6.eT(cX.status+" "+cX.responseText);aj()}}};cX.onerror=function(){f6.ay(f6.J.sb);f6.eT(f6.J.sb);aj()}}catch(e){f6.ay(e.message);f6.eT(e.message);aj()}})};f6d.kB.mj=[];f6d.kB.rs=function(pe,hF,kK,ro,cq){try{if(kK===f6.dO.fB){if(! !self.EventSource){this.uu(pe,hF);this.mj[pe+hF]=new self.EventSource(pe+hF+"?"+f6.Fx(ro),{withCredentials:true});this.mj[pe+hF].addEventListener(f6.bX.zT,function(e){try{cq(JSON.parse(e.data))}catch(e){f6.ay(e.message);f6.eT(e.message)}},false);this.mj[pe+hF].addEventListener(f6.bX.cw,function(e){},false);this.mj[pe+hF].addEventListener(f6.bX.kO,function(e){if(e.readyState==self.EventSource.CLOSED){}f6.ay(f6.J.sb);f6.eT(f6.J.sb)},false)}else{}}else{throw new Error(f6.J.DZ)}}catch(e){f6.ay(e.message);f6.eT(e.message)}};f6d.kB.uu=function(qe,hF){if(typeof this.mj[qe+hF]!=f6.t.G){this.mj[qe+hF].close();delete this.mj[qe+hF]}};f6d.kB.bC={};f6d.kB.bC.ta=function(O,C,DS){return f6d.kB.jk(f6.Ph(O),"/accounts/"+C+"/instruments",f6.dO.fB,DS,f6.ij(O,C))};f6d.kB.ta={};f6d.kB.ta.Ya=function(O,C,V,ja){if(f6.adf(O)){var yr=[];yr.push({adJ:f6.dO.DY,Yg:f6.dO.yg+" "+f6.amV(O)});yr.push({adJ:f6.dO.aob,Yg:f6.dO.afU});return f6d.kB.ali(f6.amK(O).replace("symbolnames",V.replace("/","_")),f6.dO.fB,ja,yr)}else{return f6d.kB.jk(f6.Ph(O),"/accounts/"+C+"/instruments/"+V.replace("/","_")+"/candles",f6.dO.fB,ja,f6.ij(O,C))}};f6d.kB.DG={};f6d.kB.DG.rs=function(O,C,DS,cq){var ja=DS;ja.aH=f6.dO.yg+" "+f6.ij(O,C);f6d.kB.rs(f6.abt(O),"/accounts/"+C+"/pricing/stream",f6.dO.fB,ja,cq)};f6d.kB.DG.uu=function(O,C){f6d.kB.uu(f6.abt(O),"/accounts/"+C+"/pricing/stream")};f6d.kB.ta.axC=function(O,C,ja){return f6d.kB.jk(f6.Ph(O),"/accounts/"+C+"/pricing/snapshots",f6.dO.fB,ja,f6.ij(O,C))};
