/*
 *
 *  Shi Nai Jun CONFIDENTIAL
 * __________________
 *
 *  Shi Nai Jun
 *  All Rights Reserved.
 *
 * NOTICE:  All information and all copyrights contained herein are,
 * and remain the property of Shi Nai Jun, if any.
 * The intellectual and technical concepts contained herein are
 * proprietary to Shi Nai Jun and may be covered by patents, patents
 * in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Shi Nai Jun.
 *
 */
self.importScripts("lang/en.js")
self.importScripts("brokers.js")
var f6d={};var f6=f6d;
f6.R={aaP:dict.m1,agq:dict.m2,avi:dict.m3,zQ:dict.m4,ps:dict.m5,Yw:dict.m6,acC:dict.m7,avA:dict.m8,Zt:dict.m9,awV:dict.m10,auG:dict.m11,avO:dict.m12,awZ:dict.m13,awc:dict.m14,YD:dict.m15,avl:dict.m16,aue:dict.m17,avo:dict.m18,avW:dict.m19,awb:dict.m20,xW:dict.m21,YM:dict.m22,auk:dict.m23,awp:dict.m24,avK:dict.m25,rE:dict.m26,Gv:dict.m27,HE:dict.m28,arT:dict.m29,aad:dict.m30,aeN:dict.m31,atA:dict.m32,auA:dict.m33,anC:dict.m34,atn:dict.m35,atf:dict.m36,avU:dict.m37,apA:dict.m38,awK:dict.m39,acS:dict.m40,fA:dict.m41,Xd:dict.m42,aoD:dict.m43,avf:dict.m44,atH:dict.m45,anE:dict.m46,OU:dict.m47,aaW:dict.m48,avD:dict.m49,aaL:dict.m50,abl:dict.m51,abV:dict.m52,aaF:dict.m53,Hy:dict.m54,oC:dict.m55,aaA:dict.m56,abn:dict.m57,avy:dict.m58,abu:dict.m59,awa:dict.m60,HM:dict.m61,kc:dict.m62,tJ:dict.m63,atl:dict.m64,Fr:dict.m65,avq:dict.m66,abG:dict.m67,tq:dict.m68,ave:dict.m69,akW:dict.m70,aaq:dict.m71,axX:dict.m72,GR:dict.m73,abw:dict.m74,axi:dict.m75,acl:dict.m76,sY:dict.m77,zS:dict.m78,aey:dict.m79,abR:dict.m80,abE:dict.m81,abm:dict.m82,IP:dict.m83,JL:dict.m84,rf:dict.m85,nq:dict.m86,avm:dict.m87,amJ:dict.m88,CV:dict.m89,wW:dict.m90,abH:dict.m91,PN:dict.m92,Du:dict.m93,adu:dict.m94,ald:dict.m95,akI:dict.m96,Hz:dict.m97,SN:dict.m98,Fg:dict.m99,ajU:dict.m100,ale:dict.m101,aqG:dict.m102,vv:dict.m103,afc:dict.m104,apr:dict.m105,axR:dict.m106,asT:dict.m107,Il:dict.m108,asw:dict.m109,FY:dict.m110,aaZ:dict.m111,OM:dict.m112,anM:dict.m113,aqN:dict.m114,aeI:dict.m115,RO:dict.m116,asv:dict.m117,arN:dict.m118,atw:dict.m119,asi:dict.m120,Kz:dict.m121,Jk:dict.m122,gS:dict.m123,ie:dict.m124,fv:dict.m125,ajy:dict.m126,GZ:dict.m127,abc:dict.m128,Eg:dict.m129,aiu:dict.m130,ahO:dict.m131,ahV:dict.m132,aiB:dict.m133,KO:dict.m134,oS:dict.m135,zV:dict.m136,ach:dict.m137,acn:dict.m138,abp:dict.m139,aat:dict.m140,abY:dict.m141,aqZ:dict.m142,OP:dict.m143,qg:dict.m144,ve:dict.m145,ami:dict.m146,axA:dict.m147,aqR:dict.m148,axK:dict.m149,axF:dict.m150,ayv:dict.m151,LE:dict.m152,WH:dict.m153,ajn:dict.m154,Mk:dict.m155,Yi:dict.m156,ZZ:dict.m157,sC:dict.m158,jJ:dict.m159,GG:dict.m160,acB:dict.m161,aag:dict.m162,adb:dict.m163,Zh:dict.m164,Yo:dict.m165,Zl:dict.m166,Zb:dict.m167,ZN:dict.m168,gV:dict.m169,WE:dict.m170,od:dict.m171,Pe:dict.m172,ni:dict.m173,zU:dict.m174,nc:dict.m175,qi:dict.m176,Ca:dict.m177,aex:dict.m178,yV:dict.m179,JF:dict.m180,zR:dict.m181,Ck:dict.m182,akQ:dict.m183,vH:dict.m184,anl:dict.m185,ajO:dict.m186,aqh:dict.m187,aqk:dict.m188,aeF:dict.m189,aeW:dict.m190,Is:dict.m191,Ki:dict.m192,Ml:dict.m193,Ja:dict.m194,MT:dict.m195,NX:dict.m196,Nr:dict.m197,DS:dict.m198,uK:dict.m199,amO:dict.m200,WL:dict.m201,QG:dict.m202,PY:dict.m203,Ww:dict.m204,Xb:dict.m205,Iu:dict.m206,Ie:dict.m207,Zz:dict.m208,aux:dict.m209,auj:dict.m210,avF:dict.m211,auF:dict.m212,ajJ:dict.m213,arC:dict.m214,awi:dict.m215,awC:dict.m216,aoe:dict.m217,alx:dict.m218,akz:dict.m219,ov:dict.m220,vs:dict.m221,ayM:dict.m222,aoE:dict.m223,akk:dict.m224,eY:dict.m225,awt:dict.m226,aww:dict.m227,aka:dict.m228,IO:dict.m229,auQ:dict.m230,aqB:dict.m231,ajx:dict.m232,EC:dict.m233,mj:dict.m234,Ea:dict.m235,qS:dict.m236,vi:dict.m237,vX:dict.m238,aaC:dict.m239,abv:dict.m240,TM:dict.m241,aym:dict.m242,Tw:dict.m243,auH:dict.m244,ark:dict.m245,WF:dict.m246,acE:dict.m247,YN:dict.m248,aqa:dict.m249,abK:dict.m250,akf:dict.m251,awy:dict.m252,awS:dict.m253};f6.aL=function(ac){console.error(new Date(Date.now()).toString()+" "+f6.R.aaP+ac)};f6.lo=function(ac){console.log(new Date(Date.now()).toString()+" "+ac)};f6.ii=function(ac){console.log(new Date(Date.now()).toString()+" "+ac)};f6.ho={yb:"cc_s_m",yP:"cc_e_m",yO:"cc_w_m",awf:"cc_s_m_b",axC:"cc_e_m_b",awk:"cc_w_m_b",ayf:".header",yI:".p",apV:".message .close",afD:".message",Cr:"transition",AV:"hidden",awD:"fade",TN:"<br>",Ni:"padding-left",Et:"5em",ajT:'<div class="ui overlay success message transition hidden" style="position:fixed!important;overflow-y:scroll" id="cc_s_m">'+'<i class="close icon" style="font-size:1.5rem" id="cc_s_m_b"></i>'+'<div class="header">'+'Success Message'+'</div>'+'<p class="p"></p>'+'</div>',atE:'<div class="ui overlay error message transition hidden" style="position:fixed!important;overflow-y:scroll" id="cc_e_m">'+'<i class="close icon" style="font-size:1.5rem" id="cc_e_m_b"></i>'+'<div class="header">'+'Error Message'+'</div>'+'<p class="p"></p>'+'</div>',ahd:'<div class="ui overlay warning message transition hidden" style="position:fixed!important;overflow-y:scroll" id="cc_w_m">'+'<i class="close icon" style="font-size:1.5rem" id="cc_w_m_b"></i>'+'<div class="header">'+'Warning Message'+'</div>'+'<p class="p"></p>'+'</div>',yJ:true,hJ:function(yJ,HF,HD,Ig){if (typeof yJ!=f6.H.fI) {
 return;
}if (typeof HF!=f6.H.F) {
 return;
}if (typeof HD!=f6.H.F) {
 return;
}if (typeof Ig!=f6.H.F) {
 return;
}this.yJ=yJ;this.aik(HF,HD,Ig,this.Et)},aik:function(HF,HD,Ig,Et){$("#"+HF).append(this.ajT);$("#"+HD).append(this.atE);$("#"+Ig).append(this.ahd);$("#"+this.yb).css(this.Ni,Et);$("#"+this.yP).css(this.Ni,Et);$("#"+this.yO).css(this.Ni,Et);var as=this;$(this.apV).on(f6.dn.fi,function(){$(this).closest(as.afD).transition(as.awD);$(this).closest(as.afD).find(as.yI).html("")})},aas:function(){$("#"+this.yb).addClass(this.Cr);$("#"+this.yb).addClass(this.AV);$("#"+this.yb).find(this.yI).html("");$("#"+this.yP).addClass(this.Cr);$("#"+this.yP).addClass(this.AV);$("#"+this.yP).find(this.yI).html("");$("#"+this.yO).addClass(this.Cr);$("#"+this.yO).addClass(this.AV);$("#"+this.yO).find(this.yI).html("")}};f6.kP=function(ac){if(f6.ho.yJ){$("#"+f6.ho.yb+" > "+f6.ho.yI).append(ac+f6.ho.TN);$("#"+f6.ho.yb).removeClass(f6.ho.Cr);$("#"+f6.ho.yb).removeClass(f6.ho.AV)}};f6.co=function(ac){if(f6.ho.yJ){$("#"+f6.ho.yP+" > "+f6.ho.yI).append(ac+f6.ho.TN);$("#"+f6.ho.yP).removeClass(f6.ho.Cr);$("#"+f6.ho.yP).removeClass(f6.ho.AV)}};f6.kJ=function(ac){if(f6.ho.yJ){$("#"+f6.ho.yO+" > "+f6.ho.yI).append(ac+f6.ho.TN);$("#"+f6.ho.yO).removeClass(f6.ho.Cr);$("#"+f6.ho.yO).removeClass(f6.ho.AV)}};f6.cg={jM:"e",HL:"i_s",ZK:"k_s",XJ:"s_s",Za:"q_s",LV:"q_bt_s",acZ:"uq_s",Mp:"as_s",XE:"o_s",acq:"mo_s",Ws:"co_s",acf:"mt_s",abS:"ct_s",XW:"t_s",adE:"ut_s",Xa:"tm_s",acp:"um_s",XP:"a_s",UO:"m_s",Ge:"tk_s",GK:"rtk_s",ado:"gt_s",GD:"r_c",aao:"r_bt_c",Uo:"k_c",ZV:"q_c",YB:"q_bt_c",Lm:"s_c",Yv:"t_c",Zx:"tm_c",XK:"a_c",Vq:"m_c",Hs:"ts_c",wX:"tf_c",Ih:"rts_c",vl:"rtf_c"};f6.fU=function(Ot,EZ){this.eN=Ot;this.ag=EZ};f6.ef=function(EZ){postMessage(new f6.fU(f6.cg.jM,f6.R.aaP+EZ))};f6.kH=function(Ot,EZ){postMessage(new f6.fU(Ot,EZ))};f6.EA={HE:"i_i_ok",anC:"g_o_b_g_ok",atf:"s_o_b_ok",apA:"l_o_b_ok",aoD:"g_h_q_ok",avf:"d_o_p_ok",atH:"d_o_a_ok",anE:"r_s_d",aaT:"o_i_ok"};f6.cl={fD:"t",ey:"b"};f6.ct=f6.cl.fD;f6.us=false;f6.pR=false;f6.hS={kt:1,apu:2};f6.kg=f6.hS.kt;f6.ev=true;f6.wD=false;f6.eY=10000;f6.uj={wr:"r",La:"m"};f6.rZ={po:"p",dJ:"t"};f6.eg={oj:"m",dk:"b",dP:"a",mi:"ba"};f6.H={C:"undefined",atc:"[object Function]",F:"string",hI:"index",aV:"key",fI:"boolean",aE:"object",afh:"_blank",iy:"true",mT:"false",abO:"null",adQ:Number.MIN_SAFE_INTEGER,wa:Number.MAX_SAFE_INTEGER,acr: -Number.MAX_VALUE,awW:Number.MAX_VALUE,Xi: -9999999999,awq:9999999999};f6.J={HX:"svg",G:"id",FM:"div",bJ:"class",fE:"g",NF:"url",Ri:"clipPath",PU:"clip-path",ig:"rect",eu:"line",mb:"circle",ep:"x",bY:"y",kY:"dx",kI:"dy",cr:"x1",cG:"x2",cY:"y1",dM:"y2",eT:"cx",ei:"cy",gZ:"r",bZ:"width",du:"height",gR:"opacity",cW:"fill",cO:"stroke",ix:"stroke-width",wh:"stroke-dasharray",gP:"transform",gG:"translate",ayB:"rotate",hU:"text",fs:"font-size",kj:"text-anchor",fg:"start",aws:"middle",fQ:"end",mR:"drag",afk:"path",nQ:"round",ag:"d",WZ:"stroke-linejoin",Xw:"stroke-linecap",wz:"none",ayh:"svg-container",ayX:"svg-content-responsive",awG:"viewBox",axq:"preserveAspectRatio",avE:"xMinYMin",avX:"meet",acT:"active",aM:"cursor",ayE:"pointer",iu:"background-color",nj:"color",Ii:"border",ug:"display",aeu:"block",ayP:"important",uT:"style"};f6.axH={ayu:"b",awP:"d"};f6.ej={jh:"p",sQ:"f",Ht:"f_o",HN:"f_c",rF:"t",qD:"c",tC:"r",mu:"m_c",nM:"m_r",pi:"b_c",oI:"m_n",nY:"a"};f6.jv={cv:"o",oE:"c",uN:"c_w_t",sm:"t",nY:"a"};f6.dH={bh:"o",cz:"h",bq:"p",dw:"s",lz:"c",qf:"m",wv:"t",It:"b",ye:"a",wA:"r",Kd:"i",qv:"k",rJ:"z",da:"e"};f6.OT={lz:"Cancelled",qf:"Rejected",axp:"Unknown",da:"Expired"};f6.dn={Bo:"message",jM:"error",cv:"open",pS:"resize",fi:"click",axE:"submit",Gg:"mousedown",GP:"mousemove",uy:"mouseup",axg:"orientationchange",ain:"change",atB:"customevent"};f6.aw={mt:11,kO:0,Jh:1,Km:2,Eu:3,Ej:4,KB:5,Jp:6,CO:7,DI:8,Kl:9,Qq:10,jL:7,jm:0,vt:1,wx:2,uZ:3,vj:4,uJ:5,zh:6};f6.Gj=function(HO){if (typeof HO==f6.H.C||HO==null) {
 return false;
}var sa={};return HO&&sa.toString.call(HO)===f6.H.atc;};f6.bQ=function(wb){if (typeof wb==f6.H.C||wb==null) {
 return false;
}return!isNaN(parseFloat(wb))&&isFinite(wb);};f6.be=function(wb){return!isNaN(wb)&&parseInt(Number(wb), 10)==wb&& !isNaN(parseInt(wb,10))};f6.dG=function(Ql){if (typeof Ql==f6.H.C||Ql==null) {
 return false;
}return Ql.constructor===Array};f6.os=function(Co){
 if (typeof Co!=f6.H.F) {
  return false;
 }if(Co===""){return false}if(Co==="inherit"){return false}if(Co==="transparent"){return false}var BO=document.createElement("img");BO.style.color="rgb(0, 0, 0)";BO.style.color=Co;if(BO.style.color!=="rgb(0, 0, 0)"){return true}BO.style.color="rgb(255, 255, 255)";BO.style.color=Co;return BO.style.color!=="rgb(255, 255, 255)";
};f6.Bz=function(Yb){var Fv=[];for(var aV in Yb){Fv.push(encodeURIComponent(aV)+"="+encodeURIComponent(Yb[aV]))}return Fv.join("&")};f6.IJ=function(ab){var oX=[];for(var i in ab){if(ab.hasOwnProperty(i)){if(typeof ab[i]==f6.H.F){oX.push(i+': "'+ab[i]+'"')}else if(f6.dG(ab[i])){var Jz=JSON.parse(JSON.stringify(ab[i]));for(var j in Jz){if(Jz[j]==null){Jz[j]="null"}}oX.push(i+': ['+Jz.join(', ')+']')}else{oX.push(i+": "+ab[i])}}}return oX};f6.bP={iw:"s1",iY:"s2",ip:"s3",jo:"s4",hN:"m1",le:"m2",kz:"m3",iR:"m4",kC:"m5",iv:"m6",iO:"m7",jF:"h1",kR:"h2",ki:"h3",hL:"h4",kr:"h5",lw:"h6",ka:"h7",jy:"d",jx:"w",iF:"m"};f6.bV={iw:"S5",iY:"S10",ip:"S15",jo:"S30",hN:"M1",le:"M2",kz:"M4",iR:"M5",kC:"M10",iv:"M15",iO:"M30",jF:"H1",kR:"H2",ki:"H3",hL:"H4",kr:"H6",lw:"H8",ka:"H12",jy:"D",jx:"W",iF:"M"};f6.mr=function(bp){if(bp==f6.bP.iw){return 5}else if(bp==f6.bP.iY){return 10}else if(bp==f6.bP.ip){return 15}else if(bp==f6.bP.jo){return 30}else if(bp==f6.bP.hN){return 60}else if(bp==f6.bP.le){return 120}else if(bp==f6.bP.kz){return 240}else if(bp==f6.bP.iR){return 300}else if(bp==f6.bP.kC){return 600}else if(bp==f6.bP.iv){return 900}else if(bp==f6.bP.iO){return 1800}else if(bp==f6.bP.jF){return 3600}else if(bp==f6.bP.kR){return 7200}else if(bp==f6.bP.ki){return 10800}else if(bp==f6.bP.hL){return 14400}else if(bp==f6.bP.kr){return 21600}else if(bp==f6.bP.lw){return 28800}else if(bp==f6.bP.ka){return 43200}else if(bp==f6.bP.jy){return 86400}else{return null}};f6.tE=function(bp){if(bp==f6.bP.iw){return f6.bV.iw}else if(bp==f6.bP.iY){return f6.bV.iY}else if(bp==f6.bP.ip){return f6.bV.ip}else if(bp==f6.bP.jo){return f6.bV.jo}else if(bp==f6.bP.hN){return f6.bV.hN}else if(bp==f6.bP.le){return f6.bV.le}else if(bp==f6.bP.kz){return f6.bV.kz}else if(bp==f6.bP.iR){return f6.bV.iR}else if(bp==f6.bP.kC){return f6.bV.kC}else if(bp==f6.bP.iv){return f6.bV.iv}else if(bp==f6.bP.iO){return f6.bV.iO}else if(bp==f6.bP.jF){return f6.bV.jF}else if(bp==f6.bP.kR){return f6.bV.kR}else if(bp==f6.bP.ki){return f6.bV.ki}else if(bp==f6.bP.hL){return f6.bV.hL}else if(bp==f6.bP.kr){return f6.bV.kr}else if(bp==f6.bP.lw){return f6.bV.lw}else if(bp==f6.bP.ka){return f6.bV.ka}else if(bp==f6.bP.jy){return f6.bV.jy}else if(bp==f6.bP.jx){return f6.bV.jx}else if(bp==f6.bP.iF){return f6.bV.iF}else{return null}};f6.IR=function(eo){if(eo==f6.bV.iw){return f6.bP.iw}else if(eo==f6.bV.iY){return f6.bP.iY}else if(eo==f6.bV.ip){return f6.bP.ip}else if(eo==f6.bV.jo){return f6.bP.jo}else if(eo==f6.bV.hN){return f6.bP.hN}else if(eo==f6.bV.le){return f6.bP.le}else if(eo==f6.bV.kz){return f6.bP.kz}else if(eo==f6.bV.iR){return f6.bP.iR}else if(eo==f6.bV.kC){return f6.bP.kC}else if(eo==f6.bV.iv){return f6.bP.iv}else if(eo==f6.bV.iO){return f6.bP.iO}else if(eo==f6.bV.jF){return f6.bP.jF}else if(eo==f6.bV.kR){return f6.bP.kR}else if(eo==f6.bV.ki){return f6.bP.ki}else if(eo==f6.bV.hL){return f6.bP.hL}else if(eo==f6.bV.kr){return f6.bP.kr}else if(eo==f6.bV.lw){return f6.bP.lw}else if(eo==f6.bV.ka){return f6.bP.ka}else if(eo==f6.bV.jy){return f6.bP.jy}else if(eo==f6.bV.jx){return f6.bP.jx}else if(eo==f6.bV.iF){return f6.bP.iF}else{return null}};f6.Gm=function(bp){if(bp==f6.bP.jx||bp==f6.bP.iF){return true}else{return false}};f6.aoV=function(bp){if(bp==f6.bP.jx){return true}else{return false}};f6.awo=function(bp){if(bp==f6.bP.iF){return true}else{return false}};f6.zj=function(bp){if(bp!=f6.bP.jx&&bp!=f6.bP.iF&&bp!=f6.bP.iw&&bp!=f6.bP.iY&&bp!=f6.bP.ip&&bp!=f6.bP.jo){return true}else{return false}};f6.Uy=function(bp){if(bp==f6.bP.iw){return true}else if(bp==f6.bP.iY){return true}else if(bp==f6.bP.ip){return true}else if(bp==f6.bP.jo){return true}else if(bp==f6.bP.hN){return true}else if(bp==f6.bP.le){return true}else if(bp==f6.bP.kz){return true}else if(bp==f6.bP.iR){return true}else if(bp==f6.bP.kC){return true}else if(bp==f6.bP.iv){return true}else if(bp==f6.bP.iO){return true}else if(bp==f6.bP.jF){return true}else if(bp==f6.bP.kR){return true}else if(bp==f6.bP.ki){return true}else if(bp==f6.bP.hL){return true}else if(bp==f6.bP.kr){return true}else if(bp==f6.bP.lw){return true}else if(bp==f6.bP.ka){return true}else if(bp==f6.bP.jy){return true}else if(bp==f6.bP.jx){return true}else if(bp==f6.bP.iF){return true}else{return false}};f6.hq={qe:"%m-%d %H:%M",xA:"%y-%m-%d",lT:"%y-%m-%d %H:%M"};f6.LJ=function(bp){if(bp==f6.bP.iw){return f6.hq.qe}else if(bp==f6.bP.iY){return f6.hq.qe}else if(bp==f6.bP.ip){return f6.hq.qe}else if(bp==f6.bP.jo){return f6.hq.qe}else if(bp==f6.bP.hN){return f6.hq.qe}else if(bp==f6.bP.le){return f6.hq.qe}else if(bp==f6.bP.kz){return f6.hq.qe}else if(bp==f6.bP.iR){return f6.hq.qe}else if(bp==f6.bP.kC){return f6.hq.qe}else if(bp==f6.bP.iv){return f6.hq.qe}else if(bp==f6.bP.iO){return f6.hq.qe}else if(bp==f6.bP.jF){return f6.hq.qe}else if(bp==f6.bP.kR){return f6.hq.qe}else if(bp==f6.bP.ki){return f6.hq.xA}else if(bp==f6.bP.hL){return f6.hq.xA}else if(bp==f6.bP.kr){return f6.hq.xA}else if(bp==f6.bP.lw){return f6.hq.xA}else if(bp==f6.bP.ka){return f6.hq.xA}else if(bp==f6.bP.jy){return f6.hq.xA}else{return f6.hq.xA}};f6.cS={GH:"Authorization",AO:"Bearer",XA:"Content-Type",alX:"Accept-Datetime-Format",aiN:"UNIX",aaa:"application/json",sr:"application/json; charset=utf-8",lF:"POST",wl:"PUT",dV:"GET",qx:"json",eY:"timeout"};f6.aF={dr:1,eE:2,gH:3,fY:4,hG:5,gr:6,zI:7,zH:8,Ar:9,zN:10};f6.iq={dr:"BUY",eE:"SELL",gH:"BUY LIMIT",fY:"SELL LIMIT",hG:"BUY STOP",gr:"SELL STOP"};f6.CF={dr:"B",eE:"S",gH:"B L",fY:"S L",hG:"B S",gr:"S S"};f6.anN=function(){return[f6.aF.dr,f6.aF.eE,f6.aF.gH,f6.aF.fY,f6.aF.hG,f6.aF.gr]};f6.mx=function(aZ){if(aZ==f6.aF.dr){return f6.iq.dr}else if(aZ==f6.aF.eE){return f6.iq.eE}else if(aZ==f6.aF.gH){return f6.iq.gH}else if(aZ==f6.aF.fY){return f6.iq.fY}else if(aZ==f6.aF.hG){return f6.iq.hG}else if(aZ==f6.aF.gr){return f6.iq.gr}else{return ""}};f6.rD=function(aZ){if(aZ==f6.aF.dr){return f6.CF.dr}else if(aZ==f6.aF.eE){return f6.CF.eE}else if(aZ==f6.aF.gH){return f6.CF.gH}else if(aZ==f6.aF.fY){return f6.CF.fY}else if(aZ==f6.aF.hG){return f6.CF.hG}else if(aZ==f6.aF.gr){return f6.CF.gr}else{return ""}};f6.afw=function(gK){if(gK==f6.iq.dr){return f6.aF.dr}else if(gK==f6.iq.eE){return f6.aF.eE}else if(gK==f6.iq.gH){return f6.aF.gH}else if(gK==f6.iq.fY){return f6.aF.fY}else if(gK==f6.iq.hG){return f6.aF.hG}else if(gK==f6.iq.gr){return f6.aF.gr}else{return null}};f6.abA={qF:"L",vz:"S"};f6.ayy={qF:"Limit",vz:"Stop"};f6.Ew={TX:"L",ti:"H"};f6.kA={Ad:0,aeg:1,adB:2,ahs:3,Wj:4,Ya:5,ER:6};f6.axj=function(rQ){if(rQ==f6.kA.Ad){return "Sunday"}else if(rQ==f6.kA.aeg){return "Monday"}else if(rQ==f6.kA.adB){return "Tuesday"}else if(rQ==f6.kA.ahs){return "Wednesday"}else if(rQ==f6.kA.Wj){return "Thursday"}else if(rQ==f6.kA.Ya){return "Friday"}else if(rQ==f6.kA.ER){return "Saturday"}else{return ""}};f6.EN={Pm:1,afE:2};f6.di=function(Pv,awz){var ahJ=Pv.callee.name;var aaJ=[];for(var i=0;i<Pv.length;i += 1){aaJ.push(Pv[i])}return f6.R.agq+ahJ+"("+aaJ.join(", ")+")"+", "+f6.R.avi+awz};f6.ha={qu:"n",fI:"b",F:"s",pf:"i"};f6.pv={qu:"Number",fI:"Boolean",F:"String",pf:"Integer"};f6.Xc=function(hl){if(hl==f6.ha.qu){return f6.pv.qu}else if(hl==f6.ha.fI){return f6.pv.fI}else if(hl==f6.ha.F){return f6.pv.F}else if(hl==f6.ha.pf){return f6.pv.pf}else{return null}};f6.Vc=function(Ku){if(Ku==f6.pv.qu){return f6.ha.qu}else if(Ku==f6.pv.fI){return f6.ha.fI}else if(Ku==f6.pv.F){return f6.ha.F}else if(Ku==f6.pv.pf){return f6.ha.pf}else{return null}};f6.wM={kS:"shift"};f6.Ac={dI:"bounty.red",iJ:"bounty.red",kN:"bounty.red"};f6.Ba={dI:"",iJ:"",kN:""};f6.ya={dI:"https://",iJ:"https://",kN:"https://"};f6.abd={axk:"Channel-Sea",Xy:"Chart-Coaster"};f6.Iz={IZ:"0"};f6.aaB=function(){return[f6.bP.hN,f6.bP.iR,f6.bP.iv,f6.bP.iO,f6.bP.jF,f6.bP.hL,f6.bP.jy,f6.bP.jx,f6.bP.iF]};f6.aek=function(){return f6.bP.hN};f6.ape=function(){return[500,1000,2000,5000,10000,20000,50000,100000,1000000]};f6.Qu={dI:"channel-sea.cc",iJ:"channel-sea.cc",kN:"channel-sea.cc"};f6.dp={dI:"fe",iJ:"od",kN:"ol"};f6.Rr={dI:"Fintechee Demo",iJ:"Oanda Demo (Browser must be Firefox)",kN:"Oanda Live (Browser must be Firefox)"};f6.Ec={dI:"Fintechee Demo",iJ:"Oanda Demo",kN:"Oanda Live"};f6.mK={dI:"c",wB:"o"};f6.zd=[];f6.zd[f6.dp.dI]=f6.mK.dI;f6.zd[f6.dp.iJ]=f6.mK.wB;f6.zd[f6.dp.kN]=f6.mK.wB;f6.bx=[];f6.bx[f6.dp.dI]={ay:[],HJ:false,t:f6.dp.dI,SP:f6.ya.dI+f6.Ac.dI+f6.Ba.dI,Ty:f6.ya.dI+f6.Ac.dI+f6.Ba.dI,NV:f6.ya.dI+f6.Ac.dI+f6.Ba.dI,Oc:f6.ya.dI+f6.Ac.dI+f6.Ba.dI,PS:f6.ya.dI+f6.Qu.dI,US:"/images/fintechee_logo_small.png",it:["EUR/USD"],eG:"Technology Service Provider",ma:21,kF:21,op:100,mW:true,ba:"USD",cV:100000,aT:100,pj:50,mZ:0.01,na:false,pB:null,pI:null,md:false,mk:false,jD:false,JZ:"/getSS",JG:"/signinByTradeToken",Jj:"/signinToTrade",JC:"/signinToWatch",Hl:"/quickRegister",JN:"/register",Kr:"/changePassword",JE:"/sendResetPwMail",Iy:"/resetPassword",JS:"/getDefaultAccForInvestor",Kx:"/setWatchable",JJ:"/setNotWatchable"};f6.lY={fD:"TRADE",ot:"INVESTOR"};f6.Xt=[];f6.arL=function(by){f6.Xt=by};f6.FA=function(){return f6.Xt};f6.yh=function(t,V){if(typeof f6.bx[t]!=f6.H.C&&f6.bx[t]!=null&&f6.dG(f6.bx[t].ay)){var hB=null;for(var i in f6.bx[t].ay){if(f6.bx[t].ay[i].V==V){if(typeof f6.bx[t].ay[i].dJ==f6.H.F){return f6.lY.fD}else if(typeof f6.bx[t].ay[i].cC==f6.H.F){return f6.lY.ot}else{return f6.lY.ot}}}return f6.lY.ot}else{return f6.lY.ot}};f6.Cc=function(t,V){if(typeof f6.bx[t]!=f6.H.C&&f6.bx[t]!=null&&f6.dG(f6.bx[t].ay)){var hB=null;for(var i in f6.bx[t].ay){if(f6.bx[t].ay[i].V==V){hB={dJ:f6.bx[t].ay[i].dJ,cC:f6.bx[t].ay[i].cC,fj:f6.bx[t].ay[i].fj};break}}return hB}else{return null}};f6.jZ=function(t,V){if(typeof f6.bx[t]!=f6.H.C&&f6.bx[t]!=null&&f6.dG(f6.bx[t].ay)){var T=null;for(var i in f6.bx[t].ay){if(f6.bx[t].ay[i].V==V){T=f6.bx[t].ay[i].T;break}}return T}else{return null}};f6.Zd=function(t,V,T){if(typeof f6.bx[t]!=f6.H.C&&f6.bx[t]!=null&&f6.dG(f6.bx[t].ay)){for(var i in f6.bx[t].ay){if(f6.bx[t].ay[i].V==V){f6.bx[t].ay[i].T=T;return true}}}return false};f6.iI=function(t,V){if(typeof f6.bx[t]!=f6.H.C&&f6.bx[t]!=null&&f6.dG(f6.bx[t].ay)){var bH=null;for(var i in f6.bx[t].ay){if(f6.bx[t].ay[i].V==V){bH={dJ:f6.bx[t].ay[i].dJ,cC:f6.bx[t].ay[i].cC};break}}if(bH!=null){if(bH.dJ!=null){return f6.lY.fD+" "+bH.dJ}else if(bH.cC!=null){return f6.lY.ot+" "+bH.cC}else{return f6.lY.ot}}else{return f6.lY.ot}}else{return f6.lY.ot}};f6.app=function(){var ay=[];for(var i in f6.bx){for(var j in f6.bx[i].ay){ay.push({t:f6.bx[i].ay[j].t,V:f6.bx[i].ay[j].V})}}return ay};f6.BM=function(t,V,dJ,cC,fj,T){if(typeof f6.bx[t]!=f6.H.C&&f6.bx[t]!=null&&f6.dG(f6.bx[t].ay)){for(var i in f6.bx[t].ay){if(f6.bx[t].ay[i].V==V){f6.bx[t].ay[i]={t:t,V:V,dJ:dJ,cC:cC,fj:fj,T:T};return f6.bx[t].ay[i]}}f6.bx[t].ay.push({t:t,V:V,dJ:dJ,cC:cC,fj:fj,T:T});return true}return false};f6.BU=function(t,V){if(typeof f6.bx[t]!=f6.H.C&&f6.bx[t]!=null&&f6.dG(f6.bx[t].ay)){for(var i in f6.bx[t].ay){if(f6.bx[t].ay[i].V==V){f6.bx[t].ay.splice(parseInt(i, 10),1);return true}}}return false};f6.jU=function(t){if(typeof f6.zd[t]!=f6.H.C){return f6.zd[t]}else{return f6.mK.dI}};f6.VJ=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].SP}else{return f6.bx[f6.dp.dI].SP}};f6.VA=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].Ty}else{return f6.bx[f6.dp.dI].Ty}};f6.aeV=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].NV}else{return f6.bx[f6.dp.dI].NV}};f6.hF=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].Oc}else{return f6.bx[f6.dp.dI].Oc}};f6.adw=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].PS}else{return f6.bx[f6.dp.dI].PS}};f6.yQ=function(){var gg=[];for(var i in f6.bx){gg.push(f6.bx[i].t)}return gg};f6.eB=function(t){for(var i in f6.dp){if(t==f6.dp[i]){return f6.Ec[i]}}return null};f6.LB=function(t){for(var i in f6.dp){if(t==f6.dp[i]){return f6.Rr[i]}}return null};f6.uF=function(aQ){for(var i in f6.Ec){if(aQ==f6.Ec[i]){return f6.dp[i]}}return null};f6.Ur=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].US}else{return f6.bx[f6.dp.dI].US}};f6.aoK=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].it}else{return f6.bx[f6.dp.dI].it}};f6.anQ=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].eG}else{return f6.bx[f6.dp.dI].eG}};f6.axh=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].ma}else{return f6.bx[f6.dp.dI].ma}};f6.ayw=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].kF}else{return f6.bx[f6.dp.dI].kF}};f6.arl=function(){var vI=[];for(var i in f6.bx){for(var j in f6.bx[i].ay){vI.push({t:f6.bx[i].ay[j].t,V:f6.bx[i].ay[j].V,kF:f6.bx[i].kF})}}return vI};f6.aoA=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].op}else{return f6.bx[f6.dp.dI].op}};f6.afq=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].mW}else{return f6.bx[f6.dp.dI].mW}};f6.SI=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].ba}else{return f6.bx[f6.dp.dI].ba}};f6.lu=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].cV}else{return f6.bx[f6.dp.dI].cV}};f6.rA=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].aT}else{return f6.bx[f6.dp.dI].aT}};f6.aoi=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].pj}else{return f6.bx[f6.dp.dI].pj}};f6.Uq=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].mZ}else{return f6.bx[f6.dp.dI].mZ}};f6.afa=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].na}else{return f6.bx[f6.dp.dI].na}};f6.amY=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].pB}else{return f6.bx[f6.dp.dI].pB}};f6.amZ=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].pI}else{return f6.bx[f6.dp.dI].pI}};f6.qY=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].md}else{return f6.bx[f6.dp.dI].md}};f6.Uk=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].mk}else{return f6.bx[f6.dp.dI].mk}};f6.avG=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].jD}else{return f6.bx[f6.dp.dI].jD}};f6.apD=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].JG}else{return f6.bx[f6.dp.dI].JG}};f6.apF=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].Jj}else{return f6.bx[f6.dp.dI].Jj}};f6.aqO=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].JC}else{return f6.bx[f6.dp.dI].JC}};f6.amK=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].Hl}else{return f6.bx[f6.dp.dI].Hl}};f6.aee=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].JN}else{return f6.bx[f6.dp.dI].JN}};f6.aoU=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].Kr}else{return f6.bx[f6.dp.dI].Kr}};f6.amq=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].JE}else{return f6.bx[f6.dp.dI].JE}};f6.alV=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].Iy}else{return f6.bx[f6.dp.dI].Iy}};f6.aoF=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].JS}else{return f6.bx[f6.dp.dI].JS}};f6.aqg=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].Kx}else{return f6.bx[f6.dp.dI].Kx}};f6.amr=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].JJ}else{return f6.bx[f6.dp.dI].JJ}};f6.apW=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].HJ}else{return f6.bx[f6.dp.dI].HJ}};f6.AD=function(t,ib){if(typeof f6.bx[t]!=f6.H.C){f6.bx[t].HJ=ib}};f6.anw=function(t){if(typeof f6.bx[t]!=f6.H.C){return f6.bx[t].JZ}else{return f6.bx[f6.dp.dI].JZ}};f6.adS=function(t){var as=this;return new Promise(function(cp,an){var aQ=f6.eB(t);var cP=function(aR){var ac=null;if(typeof aR.brokerName==f6.H.F&&aR.brokerName==t&&typeof aR.defaultSymbolNames==f6.H.F&&typeof aR.desc==f6.H.F&&typeof aR.startEndHour==f6.H.F&&typeof aR.swapCalcHour==f6.H.F&&typeof aR.pendingOdrsOpenTrdsNumLimit==f6.H.F&&typeof aR.demoMode==f6.H.F&&typeof aR.currency==f6.H.F&&typeof aR.lotsUnit==f6.H.F&&typeof aR.toFixed==f6.H.F&&typeof aR.commentLengthLimit==f6.H.F&&typeof aR.lotsPerOrder==f6.H.F&&typeof aR.externalData==f6.H.F&&typeof aR.externalURL==f6.H.F&&typeof aR.externalTk==f6.H.F&&typeof aR.spreadBetting==f6.H.F&&typeof aR.brokerless==f6.H.F&&typeof aR.creditsOnboard==f6.H.F){try{
 var it=JSON.parse(aR.defaultSymbolNames);if(f6.dG(it)){for(var i in it){if(typeof it[i]!=f6.H.F){throw new Error(f6.R.ov+"(defaultSymbolNames, "+aQ+", "+aR.defaultSymbolNames+")")}}}else{throw new Error(f6.R.ov+"(defaultSymbolNames, "+aQ+", "+aR.defaultSymbolNames+")")}var ma=null;if(f6.be(aR.startEndHour)){ma=parseInt(aR.startEndHour, 10)}else{throw new Error(f6.R.ov+"(startEndHour, "+aQ+", "+aR.startEndHour+")")}var kF=null;if(f6.be(aR.swapCalcHour)){kF=parseInt(aR.swapCalcHour, 10)}else{throw new Error(f6.R.ov+"(swapCalcHour, "+aQ+", "+aR.swapCalcHour+")")}var op=null;if(f6.be(aR.pendingOdrsOpenTrdsNumLimit)){op=parseInt(aR.pendingOdrsOpenTrdsNumLimit, 10)}else{throw new Error(f6.R.ov+"(pendingOdrsOpenTrdsNumLimit, "+aQ+", "+aR.pendingOdrsOpenTrdsNumLimit+")")}var mW=null;if(aR.demoMode==f6.H.iy){mW=true}else if(aR.demoMode==f6.H.mT){mW=false}else{throw new Error(f6.R.ov+"(demoMode, "+aQ+", "+aR.demoMode+")")}var cV=null;if(f6.bQ(aR.lotsUnit)){cV=parseFloat(aR.lotsUnit)}else{throw new Error(f6.R.ov+"(lotsUnit, "+aQ+", "+aR.lotsUnit+")")}var aT=null;if(f6.be(aR.toFixed)){aT=parseInt(aR.toFixed, 10)}else{throw new Error(f6.R.ov+"(toFixed, "+aQ+", "+aR.toFixed+")")}var pj=null;if(f6.be(aR.commentLengthLimit)){pj=parseInt(aR.commentLengthLimit, 10)}else{throw new Error(f6.R.ov+"(commentLengthLimit, "+aQ+", "+aR.commentLengthLimit+")")}var mZ=null;if(f6.bQ(aR.lotsPerOrder)){mZ=parseFloat(aR.lotsPerOrder)}else{throw new Error(f6.R.ov+"(lotsPerOrder, "+aQ+", "+aR.lotsPerOrder+")")}var na=null;if(aR.externalData==f6.H.iy){na=true}else if(aR.externalData==f6.H.mT){na=false}else{throw new Error(f6.R.ov+"(externalData, "+aQ+", "+aR.externalData+")")}var md=null;if(aR.spreadBetting==f6.H.iy){md=true}else if(aR.spreadBetting==f6.H.mT){md=false}else{throw new Error(f6.R.ov+"(spreadBetting, "+aQ+", "+aR.spreadBetting+")")}var mk=null;if(aR.brokerless==f6.H.iy){mk=true}else if(aR.brokerless==f6.H.mT){mk=false}else{throw new Error(f6.R.ov+"(brokerless, "+aQ+", "+aR.brokerless+")")}var jD=null;if(aR.creditsOnboard==f6.H.iy){jD=true}else if(aR.creditsOnboard==f6.H.mT){jD=false}else{throw new Error(f6.R.ov+"(creditsOnboard, "+aQ+", "+aR.creditsOnboard+")")}f6.bx[t].it=it;f6.bx[t].eG=aR.desc;f6.bx[t].ma=ma;f6.bx[t].kF=kF;f6.bx[t].op=op;f6.bx[t].mW=mW;f6.bx[t].ba=aR.currency;f6.bx[t].cV=cV;f6.bx[t].aT=aT;f6.bx[t].pj=pj;f6.bx[t].mZ=mZ;f6.bx[t].na=na;f6.bx[t].pB=aR.externalURL;f6.bx[t].pI=aR.externalTk;f6.bx[t].md=md;f6.bx[t].mk=mk;f6.bx[t].jD=jD;f6.AD(t,true);cp();
}catch(e){f6.AD(t,true);f6.co(e.message);f6.aL(e.message);an()}}else{f6.AD(t,true);ac=f6.R.ov+"("+aQ+")";f6.co(ac);f6.aL(ac);an()}};$.ajax({url:f6.hF(t)+f6.anw(t),type:f6.cS.lF,data:JSON.stringify({brokerName:t}),contentType:f6.cS.sr,dataType:f6.cS.qx,timeout:f6.eY,success:cP,error:function(cF,ib,ac){if(ib===f6.cS.eY){f6.AD(t,true);f6.co(f6.R.eY+"("+aQ+")");f6.aL(f6.R.eY+"("+aQ+")")}else{f6.AD(t,true);f6.co(ac+"("+aQ+")");f6.aL(ac+"("+aQ+")")}an()}})})};f6.amx=function(){var jp=[];for(var i in f6.bx){jp.push({t:f6.bx[i].t,it:f6.bx[i].it,eG:f6.bx[i].eG,ma:f6.bx[i].ma,kF:f6.bx[i].kF,op:f6.bx[i].op,mW:f6.bx[i].mW,ba:f6.bx[i].ba,cV:f6.bx[i].cV,aT:f6.bx[i].aT,pj:f6.bx[i].pj,mZ:f6.bx[i].mZ,na:f6.bx[i].na,pB:f6.bx[i].pB,pI:f6.bx[i].pI,md:f6.bx[i].md,mk:f6.bx[i].mk,jD:f6.bx[i].jD})}return jp};f6.atL=function(jp){for(var i in jp){var t=jp[i].t;f6.bx[t].it=jp[i].it;f6.bx[t].eG=jp[i].eG;f6.bx[t].ma=jp[i].ma;f6.bx[t].kF=jp[i].kF;f6.bx[t].op=jp[i].op;f6.bx[t].mW=jp[i].mW;f6.bx[t].ba=jp[i].ba;f6.bx[t].cV=jp[i].cV;f6.bx[t].aT=jp[i].aT;f6.bx[t].pj=jp[i].pj;f6.bx[t].mZ=jp[i].mZ;f6.bx[t].na=jp[i].na;f6.bx[t].pB=jp[i].pB;f6.bx[t].pI=jp[i].pI;f6.bx[t].md=jp[i].md;f6.bx[t].mk=jp[i].mk;f6.bx[t].jD=jp[i].jD;f6.AD(t,true)}};f6.IH=function(t){var et=null;for(var i in f6.bx){if(t==f6.bx[i].t){et={it:f6.bx[t].it,eG:f6.bx[t].eG,ma:f6.bx[t].ma,kF:f6.bx[t].kF,op:f6.bx[t].op,mW:f6.bx[t].mW,ba:f6.bx[t].ba,cV:f6.bx[t].cV,aT:f6.bx[t].aT,pj:f6.bx[t].pj,mZ:f6.bx[t].mZ,na:f6.bx[t].na,pB:f6.bx[t].pB,pI:f6.bx[t].pI,md:f6.bx[t].md,mk:f6.bx[t].mk,jD:f6.bx[t].jD};break}}return et};f6.ZQ=function(t,et){f6.bx[t].it=et.it;f6.bx[t].eG=et.eG;f6.bx[t].ma=et.ma;f6.bx[t].kF=et.kF;f6.bx[t].op=et.op;f6.bx[t].mW=et.mW;f6.bx[t].ba=et.ba;f6.bx[t].cV=et.cV;f6.bx[t].aT=et.aT;f6.bx[t].pj=et.pj;f6.bx[t].mZ=et.mZ;f6.bx[t].na=et.na;f6.bx[t].pB=et.pB;f6.bx[t].pI=et.pI;f6.bx[t].md=et.md;f6.bx[t].mk=et.mk;f6.bx[t].jD=et.jD};f6.ayO=function(){var oG=0;for(var i in f6.bx){oG += 1}return oG};f6.anX=function(){return f6.dp.dI};f6.Bp=function(){try{if(typeof brokerDomain!=f6.H.C){for(var i in brokerDomain){if(typeof f6.Ac[i]==f6.H.C){f6.Ac[i]=brokerDomain[i]}else{throw new Error(f6.R.vs+"(brokerDomain."+i+")")}}}if(typeof brokerPort!=f6.H.C){for(var i in brokerPort){if(typeof f6.Ba[i]==f6.H.C){f6.Ba[i]=brokerPort[i]}else{throw new Error(f6.R.vs+"(brokerPort."+i+")")}}}if(typeof brokerProtocol!=f6.H.C){for(var i in brokerProtocol){if(typeof f6.ya[i]==f6.H.C){f6.ya[i]=brokerProtocol[i]}else{throw new Error(f6.R.vs+"(brokerProtocol."+i+")")}}}if(typeof shopDomain!=f6.H.C){for(var i in shopDomain){if(typeof f6.Qu[i]==f6.H.C){f6.Qu[i]=shopDomain[i]}else{throw new Error(f6.R.vs+"(shopDomain."+i+")")}}}if(typeof brokerName!=f6.H.C){for(var i in brokerName){if(typeof f6.dp[i]==f6.H.C){f6.dp[i]=brokerName[i]}else{throw new Error(f6.R.vs+"(brokerName."+i+")")}}}if(typeof signInShownBrokerName!=f6.H.C){for(var i in signInShownBrokerName){if(typeof f6.Rr[i]==f6.H.C){f6.Rr[i]=signInShownBrokerName[i]}else{throw new Error(f6.R.vs+"(signInShownBrokerName."+i+")")}}}if(typeof shownBrokerName!=f6.H.C){for(var i in shownBrokerName){if(typeof f6.Ec[i]==f6.H.C){f6.Ec[i]=shownBrokerName[i]}else{throw new Error(f6.R.vs+"(shownBrokerName."+i+")")}}}if(typeof brokerCtx!=f6.H.C){for(var i in brokerCtx){if(typeof f6.bx[i]==f6.H.C){f6.bx[i]={ay:[],HJ:false,t:brokerCtx[i].brokerName,SP:brokerCtx[i].dataStreamURL,Ty:brokerCtx[i].dataBaseURL,NV:brokerCtx[i].orderStreamURL,Oc:brokerCtx[i].orderBaseURL,PS:brokerCtx[i].shopURL,US:brokerCtx[i].logoURL,it:brokerCtx[i].defaultSymbolNames,eG:brokerCtx[i].desc,ma:brokerCtx[i].startEndHour,kF:brokerCtx[i].swapCalcHour,op:brokerCtx[i].pendingOdrsOpenTrdsNumLimit,mW:brokerCtx[i].demoMode,ba:brokerCtx[i].currency,cV:brokerCtx[i].lotsUnit,aT:brokerCtx[i].toFixed,pj:brokerCtx[i].commentLengthLimit,mZ:brokerCtx[i].lotsPerOrder,na:brokerCtx[i].externalData,pB:brokerCtx[i].externalURL,pI:brokerCtx[i].externalTk,md:brokerCtx[i].md,mk:brokerCtx[i].mk,jD:brokerCtx[i].jD,JZ:f6.bx[f6.dp.dI].JZ,JG:f6.bx[f6.dp.dI].JG,Jj:f6.bx[f6.dp.dI].Jj,JC:f6.bx[f6.dp.dI].JC,Hl:f6.bx[f6.dp.dI].Hl,JN:f6.bx[f6.dp.dI].JN,Kr:f6.bx[f6.dp.dI].Kr,JE:f6.bx[f6.dp.dI].JE,Iy:f6.bx[f6.dp.dI].Iy,JS:f6.bx[f6.dp.dI].JS,Kx:f6.bx[f6.dp.dI].Kx,JJ:f6.bx[f6.dp.dI].JJ};f6.zd[i]=f6.mK.dI}else{throw new Error(f6.R.vs+"(brokerCtx."+i+")")}}}return true}catch(e){f6.co(e.message);f6.aL(e.message);return false}};self.indexedDB=self.indexedDB||self.mozIndexedDB||self.webkitIndexedDB||self.msIndexedDB;self.IDBTransaction=self.IDBTransaction||self.webkitIDBTransaction||self.msIDBTransaction||{READ_WRITE:"readwrite"};self.IDBKeyRange=self.IDBKeyRange||self.webkitIDBKeyRange||self.msIDBKeyRange;self.addEventListener(f6.dn.jM,function(aP){});self.addEventListener(f6.dn.Bo,function(aP){if(aP.data.eN==f6.cg.HL){(function(){f6.Bp();f6.ct=aP.data.ag.hn;f6d.lE[f6.mK.dI].MR(f6d.jQ);f6d.lE[f6.mK.dI].Om(f6d.fW);if(typeof vw!=f6.H.C&&vw!=null){f6d.lE[f6.mK.wB].MR(vw)}f6d.lE[f6.mK.wB].Om(f6d.fW);f6d.fW.auh(f6d.lE);return f6d.fW.aqe()})().then(function(abF){f6.kH(abF.ku,abF.ac)}).catch(function(){})}else if(aP.data.eN==f6.cg.ZK){f6d.fW.JO(aP.data.ag)}else if(aP.data.eN==f6.cg.XJ){f6d.fW.vC(aP.data.ag)}else if(aP.data.eN==f6.cg.Mp){f6d.fW.vy(aP.data.ag)}else if(aP.data.eN==f6.cg.Za){f6d.fW.ky(aP.data.ag)}else if(aP.data.eN==f6.cg.LV){f6d.fW.AX(aP.data.ag)}else if(aP.data.eN==f6.cg.acZ){f6d.fW.jY(aP.data.ag)}else if(aP.data.eN==f6.cg.Ge){var dF=aP.data.ag;var dK=f6.BM(dF.t,dF.V,dF.dJ,dF.cC,dF.fj,dF.T);if(typeof dK==f6.H.aE||dK){if(dF.t==f6.dp.iJ||dF.t==f6.dp.kN){var MJ=dF.dJ!=null?dF.dJ:dF.cC;if(typeof vw!=f6.H.C&&vw!=null){vw.vu(dF.t,dF.V,MJ)}}f6.ZQ(dF.t,dF.et);f6.kH(f6.cg.Hs,{t:dF.t,V:dF.V,dJ:dF.dJ,cC:dF.cC,fj:dF.fj,T:dF.T,et:dF.et})}else{f6.kH(f6.cg.wX,{t:dF.t,V:dF.V})}}else if(aP.data.eN==f6.cg.GK){var dF=aP.data.ag;if(f6.BU(dF.t,dF.V)){if(dF.t==f6.dp.iJ||dF.t==f6.dp.kN){if(typeof vw!=f6.H.C&&vw!=null){vw.wS(dF.t,dF.V)}}f6.kH(f6.cg.Ih,{t:dF.t,V:dF.V})}else{f6.kH(f6.cg.vl,{t:dF.t,V:dF.V})}}},false);f6d.lx={xI:"k_o",Cq:6,yN:7};f6d.hh=Object.keys({t:null,V:null,O:null,aW:null,cq:null,bp:null,bd:null,bn:null});f6d.RE={WM:"readonly",aou:"readwrite"};f6d.fW={lE:null,auh:function(lE){this.lE=lE},vB:null,auN:1,jf:{iw:1200,iY:1200,ip:1200,jo:1200,hN:3500,le:3500,kz:1200,iR:1200,iv:500,iO:500,jF:500,kR:500,ki:500,hL:500,kr:500,lw:500,ka:500,jy:500,jx:0,iF:0},alM:function(bp){if(bp==f6.bP.iw){return this.jf.iw}else if(bp==f6.bP.iY){return this.jf.iY}else if(bp==f6.bP.ip){return this.jf.ip}else if(bp==f6.bP.jo){return this.jf.jo}else if(bp==f6.bP.hN){return this.jf.hN}else if(bp==f6.bP.le){return this.jf.le}else if(bp==f6.bP.kz){return this.jf.kz}else if(bp==f6.bP.iR){return this.jf.iR}else if(bp==f6.bP.kC){return this.jf.kC}else if(bp==f6.bP.iv){return this.jf.iv}else if(bp==f6.bP.iO){return this.jf.iO}else if(bp==f6.bP.jF){return this.jf.jF}else if(bp==f6.bP.kR){return this.jf.kR}else if(bp==f6.bP.ki){return this.jf.ki}else if(bp==f6.bP.hL){return this.jf.hL}else if(bp==f6.bP.kr){return this.jf.kr}else if(bp==f6.bP.lw){return this.jf.lw}else if(bp==f6.bP.ka){return this.jf.ka}else if(bp==f6.bP.jy){return this.jf.jy}else if(bp==f6.bP.jx){return this.jf.jx}else if(bp==f6.bP.iF){return this.jf.iF}else{return null}},aqe:function(){var eF=this;return new Promise(function(cp,an){var HW=indexedDB.open(f6.abd.Xy,eF.auN);HW.onblocked=function(aP){f6.aL(f6.R.aad);f6.ef(f6.R.aad);an()};HW.onupgradeneeded=function(aP){eF.vB=aP.target.result;var xE=eF.vB.createObjectStore(f6d.lx.xI,{autoIncrement:true});xE.createIndex(f6d.hh[0]+","+f6d.hh[1]+","+f6d.hh[2]+","+f6d.hh[3]+","+f6d.hh[4]+","+f6d.hh[5]+","+f6d.hh[6]+","+f6d.hh[7],[f6d.hh[0],f6d.hh[1],f6d.hh[2],f6d.hh[3],f6d.hh[4],f6d.hh[5],f6d.hh[6],f6d.hh[7]],{unique:true});cp({ku:f6.cg.GD,ac:f6.EA.HE})};HW.onsuccess=function(aP){eF.vB=aP.target.result;eF.vB.onversionchange=function(aP){f6.aL(f6.R.aeN);f6.ef(f6.R.aeN);eF.vB.close()};cp({ku:f6.cg.GD,ac:f6.EA.HE})};HW.onerror=function(aP){f6.aL(aP.target.errorCode);f6.ef(f6.R.atA);an()}})},alN:function(by){var t=by.t,V=by.V,O=by.O,aW=by.aW,cq=by.cq,bp=by.bp,bd=by.bd,bn=by.bn;var eF=this;return new Promise(function(cp,an){var fw=[];var jP=[];var kB=[];var tc=eF.vB.transaction([f6d.lx.xI],f6d.RE.WM);var xE=tc.objectStore(f6d.lx.xI);var oV=IDBKeyRange.bound([t,V,O,aW,cq,bp,f6.H.adQ,f6.H.adQ],[t,V,O,aW,cq,bp,f6.H.wa,f6.H.wa],false,false);var hI=xE.index(f6d.hh[0]+","+f6d.hh[1]+","+f6d.hh[2]+","+f6d.hh[3]+","+f6d.hh[4]+","+f6d.hh[5]+","+f6d.hh[6]+","+f6d.hh[7]);hI.openKeyCursor(oV).onsuccess=function(aP){var aM=aP.target.result;if(aM){if(bn!=null){if((aM.key[f6d.lx.Cq]>=bd&&bn>aM.key[f6d.lx.Cq])||(aM.key[f6d.lx.yN]>bd&&bn>=aM.key[f6d.lx.yN])||(aM.key[f6d.lx.Cq]>=bd&&bn>=aM.key[f6d.lx.yN])||(aM.key[f6d.lx.Cq]<=bd&&bn<=aM.key[f6d.lx.yN])){fw.push({bd:aM.key[f6d.lx.Cq],bn:aM.key[f6d.lx.yN]})}}else{if(aM.key[f6d.lx.yN]>bd){fw.push({bd:aM.key[f6d.lx.Cq],bn:aM.key[f6d.lx.yN]})}}aM.continue()}};tc.oncomplete=function(aP){
 if(fw.length>1){fw.sort(function(En,Ez){return En.bd-Ez.bd})}if(fw.length>=2){for(var i=0;i<(fw.length-1);i += 1){if(fw[i].bn<fw[i+1].bd){jP.push({bd:fw[i].bn,bn:fw[i+1].bd})}}}if(fw.length>=1){if(bd<fw[0].bd){jP.splice(0,0,{bd:bd,bn:fw[0].bd})}if(bn!=null){if(bn>fw[fw.length-1].bn){jP.push({bd:fw[fw.length-1].bn,bn:bn})}}else{jP.push({bd:fw[fw.length-1].bn,bn:bn})}}else{jP.push({bd:bd,bn:bn})}if(!f6.Gm(bp)){var gM=f6.mr(bp);if(gM!=null){var wO=eF.lE[f6.jU(t)].Xg()*gM;for(var i in jP){if(jP[i].bn!=null){if((jP[i].bn-jP[i].bd)>wO){var mC=jP[i].bd;while(mC<jP[i].bn){if((mC+wO)>=jP[i].bn){kB.push({bd:mC,bn:jP[i].bn})}else{kB.push({bd:mC,bn:mC+wO})}mC+=wO}}else{kB.push(jP[i])}}else{var Eo=gM*Math.round((Date.now()/1000)/gM);if((Eo-jP[i].bd)>=wO){var mC=jP[i].bd;while(mC<=Eo){if((mC+wO)==Eo){kB.push({bd:mC,bn:Eo})}else if((mC+wO)>Eo){kB.push({bd:mC,bn:null})}else{kB.push({bd:mC,bn:mC+wO})}mC+=wO}}else{kB.push(jP[i])}}}}}else{kB=jP}var dz={t:t,V:V,O:O,aW:aW,cq:cq,bp:bp,bd:bd,bn:bn,fw:fw,kB:kB};cp(dz);
};tc.onerror=function(aP){f6.aL(aP.target.error);f6.ef(f6.R.atn);an()}})},arE:function(by){var t=by.t,V=by.V,O=by.O,aW=by.aW,cq=by.cq,bp=by.bp,bd=by.bd,bn=by.bn,v=by.v,oa=by.oa;var eF=this;return new Promise(function(cp,an){
 if(v.length==0){if(oa){var dz={t:t,V:V,O:O,aW:aW,cq:cq,bp:bp,bd:bd,bn:null,v:[],fG:[]};cp(dz);return}}var tc=eF.vB.transaction([f6d.lx.xI],f6d.RE.aou);var xE=tc.objectStore(f6d.lx.xI);var fG=[];if(oa){if(aW==f6.eg.mi){for(var i=0;i<f6.aw.mt;i += 1){fG.push(v[v.length-(f6.aw.mt-i)])}if(bn==null){bn=v[v.length-(f6.aw.mt-f6.aw.kO)]}v.splice(v.length-f6.aw.mt,f6.aw.mt)}else{for(var i=0;i<f6.aw.jL;i += 1){fG.push(v[v.length-(f6.aw.jL-i)])}if(bn==null){bn=v[v.length-(f6.aw.jL-f6.aw.jm)]}v.splice(v.length-f6.aw.jL,f6.aw.jL)}}else{if(!f6.Gm(bp)){var gM=f6.mr(bp);if(gM!=null){if(v.length>0){if(aW==f6.eg.mi){if(bn==null){bn=v[v.length-(f6.aw.mt-f6.aw.kO)]+gM}}else{if(bn==null){bn=v[v.length-(f6.aw.jL-f6.aw.jm)]+gM}}}}}else{if(v.length>0){if(aW==f6.eg.mi){for(var i=0;i<f6.aw.mt;i += 1){fG.push(v[v.length-(f6.aw.mt-i)])}if(bn==null){bn=v[v.length-(f6.aw.mt-f6.aw.kO)]}v.splice(v.length-f6.aw.mt,f6.aw.mt)}else{for(var i=0;i<f6.aw.jL;i += 1){fG.push(v[v.length-(f6.aw.jL-i)])}if(bn==null){bn=v[v.length-(f6.aw.jL-f6.aw.jm)]}v.splice(v.length-f6.aw.jL,f6.aw.jL)}}oa=true}}if(v.length==0){if(oa){var dz={t:t,V:V,O:O,aW:aW,cq:cq,bp:bp,bd:bd,bn:null,v:[],fG:fG};cp(dz);return}}var akn={t:t,V:V,O:O,aW:aW,cq:cq,bp:bp,bd:bd,bn:bn,v:v};var aoZ=xE.put(akn);aoZ.onsuccess=function(aP){};tc.oncomplete=function(aP){var dz={t:t,V:V,O:O,aW:aW,cq:cq,bp:bp,bd:bd,bn:bn,v:v,fG:fG};cp(dz)};tc.onerror=function(aP){f6.aL(aP.target.error);f6.ef(f6.R.avU);an()}
})},adj:function(by){var t=by.t,V=by.V,O=by.O,aW=by.aW,cq=by.cq,bp=by.bp,fw=by.fw;var eF=this;return new Promise(function(cp,an){
 if(fw.length==0){f6.aL(f6.R.acS+"("+O+", "+f6.tE(bp)+")");f6.ef(f6.R.acS+"("+O+", "+f6.tE(bp)+")");var dz={t:t,V:V,O:O,aW:aW,cq:cq,bp:bp,bd:0,bn:null,v:[]};cp(dz);return}var rv=[];var tc=eF.vB.transaction([f6d.lx.xI],f6d.RE.WM);var xE=tc.objectStore(f6d.lx.xI);var oV=IDBKeyRange.bound([t,V,O,aW,cq,bp,fw[0].bd,fw[0].bn],[t,V,O,aW,cq,bp,fw[fw.length-1].bd,fw[fw.length-1].bn],false,false);var hI=xE.index(f6d.hh[0]+","+f6d.hh[1]+","+f6d.hh[2]+","+f6d.hh[3]+","+f6d.hh[4]+","+f6d.hh[5]+","+f6d.hh[6]+","+f6d.hh[7]);hI.openCursor(oV).onsuccess=function(aP){var aM=aP.target.result;if(aM){rv.push({bd:aM.value.bd,bn:aM.value.bn,v:aM.value.v});aM.continue()}};tc.oncomplete=function(aP){
  if(rv.length>1){rv.sort(function(En,Ez){return En.bd-Ez.bd})}var v=[];for(var i in rv){for(var j in rv[i].v){v.push(rv[i].v[j])}}var dz={t:t,V:V,O:O,aW:aW,cq:cq,bp:bp,bd:rv.length>0?rv[0].bd:null,bn:rv.length>0?rv[rv.length-1].bn:null,v:v};cp(dz);
 };tc.onerror=function(aP){f6.aL(aP.target.error);f6.ef(f6.R.awK);an()}
})},uI:[],Ve:function(rk){return rk.t+":::"+rk.V+":::"+rk.O+":::"+rk.aW+":::"+rk.cq+":::"+rk.bp+":::"+rk.bd+":::"+rk.bn},aus:function(lU){
 var aV=this.Ve(lU);if(typeof this.uI[aV]!=f6.H.C){this.uI[aV].abW=true}var Kn=0;var oG=0;for(var i in this.uI){if(this.uI[i].t==lU.t&&this.uI[i].V==lU.V&&this.uI[i].O==lU.O&&this.uI[i].bp==lU.bp){if(this.uI[i].abW){Kn += 1}oG += 1}}var ic={t:lU.t,V:lU.V,O:lU.O,bp:lU.bp,Kn:Kn,oG:oG};f6.kH(f6.cg.aao,ic);
},SZ:function(mf){var t=mf.t,V=mf.V,O=mf.O,aW=mf.aW,cq=mf.cq,bp=mf.bp,bd=mf.bd,bn=mf.bn;var eF=this;var fw=[];var fG=[];return new Promise(function(zZ,yo){eF.alN(mf).then(function(ju){for(var i in ju.fw){fw.push(ju.fw[i])}if(ju.kB.length>0){for(var i in ju.kB){if(ju.kB[i].bn!=null){var rk={t:ju.t,V:ju.V,O:ju.O,aW:ju.aW,cq:ju.cq,bp:ju.bp,bd:ju.kB[i].bd,bn:ju.kB[i].bn,abW:false};if(f6.ct==f6.cl.ey){eF.uI[eF.Ve(rk)]=rk}}}return new Promise(function(cp,an){
 var aM=0;function acx(aM){var aem={t:ju.t,V:ju.V,O:ju.O,aW:ju.aW,cq:ju.cq,bp:ju.bp,bd:ju.kB[aM].bd,bn:ju.kB[aM].bn};eF.lE[f6.jU(aem.t)].vC(aem).then(function(lU){return eF.arE(lU)}).then(function(lU){if(lU.bn!=null){fw.push({bd:lU.bd,bn:lU.bn});if(f6.ct==f6.cl.ey){eF.aus(lU)}}if(aM<(ju.kB.length-1)){aM += 1;acx(aM)}else{if(fw.length>1){fw.sort(function(En,Ez){return En.bd-Ez.bd})}fG=lU.fG;cp()}}).catch(function(){an()})}acx(aM);
})}}).then(function(){var dz={t:t,V:V,O:O,aW:aW,cq:cq,bp:bp,fw:fw,fG:fG};zZ(dz)}).catch(function(){yo()})})},JO:function(mf){this.SZ(mf).then(function(lX){}).catch(function(){})},vC:function(wy){
 var ai=wy.ai,G=wy.G,t=wy.t,V=wy.V,O=wy.O,aW=wy.aW,cq=wy.cq,bp=wy.bp,bn=wy.bn;var gM=f6.mr(bp);var bd=null;if(!f6.Gm(bp)){var jf=this.alM(bp);if (jf==null) {
  return;
 }var VD=null;if(bn==null){VD=Date.now()/1000}else{VD=bn}bd=gM*Math.round((VD-jf*gM)/gM)}else{bd=1200000000;bn=null}var mf={t:t,V:V,O:O,aW:aW,cq:cq,bp:bp,bd:bd,bn:bn};var eF=this;var fG=[];eF.SZ(mf).then(function(lX){fG=lX.fG;var Uh={t:lX.t,V:lX.V,O:lX.O,aW:lX.aW,cq:lX.cq,bp:lX.bp,fw:lX.fw};return eF.adj(Uh)}).then(function(cD){var v=[];if(cD.aW==f6.eg.oj){for(var i=0;i<cD.v.length;i+=f6.aw.jL){if(bd<=cD.v[i+f6.aw.jm]&&(bn==null||cD.v[i+f6.aw.jm]<bn)&&(i==0||(i>0&&cD.v[i+f6.aw.jm]>cD.v[i+f6.aw.jm-f6.aw.jL]))){v.push(cD.v[i+f6.aw.jm]);v.push(cD.v[i+f6.aw.vt]);v.push(cD.v[i+f6.aw.wx]);v.push(cD.v[i+f6.aw.uZ]);v.push(cD.v[i+f6.aw.vj]);v.push(cD.v[i+f6.aw.uJ]);v.push(cD.v[i+f6.aw.zh])}}}else if(cD.aW==f6.eg.dk){for(var i=0;i<cD.v.length;i+=f6.aw.jL){if(bd<=cD.v[i+f6.aw.jm]&&(bn==null||cD.v[i+f6.aw.jm]<bn)&&(i==0||(i>0&&cD.v[i+f6.aw.jm]>cD.v[i+f6.aw.jm-f6.aw.jL]))){v.push(cD.v[i+f6.aw.jm]);v.push(cD.v[i+f6.aw.vt]);v.push(cD.v[i+f6.aw.wx]);v.push(cD.v[i+f6.aw.uZ]);v.push(cD.v[i+f6.aw.vj]);v.push(cD.v[i+f6.aw.uJ]);v.push(cD.v[i+f6.aw.zh])}}}else if(cD.aW==f6.eg.dP){for(var i=0;i<cD.v.length;i+=f6.aw.jL){if(bd<=cD.v[i+f6.aw.jm]&&(bn==null||cD.v[i+f6.aw.jm]<bn)&&(i==0||(i>0&&cD.v[i+f6.aw.jm]>cD.v[i+f6.aw.jm-f6.aw.jL]))){v.push(cD.v[i+f6.aw.jm]);v.push(cD.v[i+f6.aw.vt]);v.push(cD.v[i+f6.aw.wx]);v.push(cD.v[i+f6.aw.uZ]);v.push(cD.v[i+f6.aw.vj]);v.push(cD.v[i+f6.aw.uJ]);v.push(cD.v[i+f6.aw.zh])}}}else if(cD.aW==f6.eg.mi){for(var i=0;i<cD.v.length;i+=f6.aw.mt){if(bd<=cD.v[i+f6.aw.kO]&&(bn==null||cD.v[i+f6.aw.kO]<bn)&&(i==0||(i>0&&cD.v[i+f6.aw.kO]>cD.v[i+f6.aw.kO-f6.aw.mt]))){v.push(cD.v[i+f6.aw.kO]);v.push(cD.v[i+f6.aw.Jh]);v.push(cD.v[i+f6.aw.Km]);v.push(cD.v[i+f6.aw.Eu]);v.push(cD.v[i+f6.aw.Ej]);v.push(cD.v[i+f6.aw.KB]);v.push(cD.v[i+f6.aw.Jp]);v.push(cD.v[i+f6.aw.CO]);v.push(cD.v[i+f6.aw.DI]);v.push(cD.v[i+f6.aw.Kl]);v.push(cD.v[i+f6.aw.Qq])}}}if(fG.length>0){if(cD.aW==f6.eg.oj){v.push(fG[f6.aw.jm]);v.push(fG[f6.aw.vt]);v.push(fG[f6.aw.wx]);v.push(fG[f6.aw.uZ]);v.push(fG[f6.aw.vj]);v.push(fG[f6.aw.uJ]);v.push(fG[f6.aw.zh])}else if(cD.aW==f6.eg.dk){v.push(fG[f6.aw.jm]);v.push(fG[f6.aw.vt]);v.push(fG[f6.aw.wx]);v.push(fG[f6.aw.uZ]);v.push(fG[f6.aw.vj]);v.push(fG[f6.aw.uJ]);v.push(fG[f6.aw.zh])}else if(cD.aW==f6.eg.dP){v.push(fG[f6.aw.jm]);v.push(fG[f6.aw.vt]);v.push(fG[f6.aw.wx]);v.push(fG[f6.aw.uZ]);v.push(fG[f6.aw.vj]);v.push(fG[f6.aw.uJ]);v.push(fG[f6.aw.zh])}else if(cD.aW==f6.eg.mi){v.push(fG[f6.aw.kO]);v.push(fG[f6.aw.Jh]);v.push(fG[f6.aw.Km]);v.push(fG[f6.aw.Eu]);v.push(fG[f6.aw.Ej]);v.push(fG[f6.aw.KB]);v.push(fG[f6.aw.Jp]);v.push(fG[f6.aw.CO]);v.push(fG[f6.aw.DI]);v.push(fG[f6.aw.Kl]);v.push(fG[f6.aw.Qq])}}f6.kH(f6.cg.Uo,{ai:ai,G:G,v:v})}).catch(function(){});
},vy:function(qR){var t=qR.t,V=qR.V;this.lE[f6.jU(t)].vy(t,V).then(function(aD){f6.kH(f6.cg.Lm,{t:t,V:V,aD:aD})}).catch(function(){})},iM:[],bU:function(t,V,O){return t+":::"+V+":::"+O},ky:function(jE){var t=jE.t,V=jE.V,ae=jE.ae;if(f6.ct==f6.cl.fD){this.lE[f6.jU(t)].ky(t,V,ae)}else{for(var i in ae){var aV=this.bU(t,V,ae[i]);this.iM[aV]={t:t,V:V,O:ae[i]}}}},AX:function(jE){var ld=f6.mr(jE.gF);if (ld==null) {
 return;
}ld=Math.round(ld/4);var bd=jE.bd;var bn=jE.bn;for(var a in this.iM){this.iM[a].v=null;var mf={t:this.iM[a].t,V:this.iM[a].V,O:this.iM[a].O,aW:f6.eg.mi,cq:f6.Iz.IZ,bp:jE.gF,bd:bd,bn:bn};var eF=this;eF.SZ(mf).then(function(lX){var Uh={t:lX.t,V:lX.V,O:lX.O,aW:lX.aW,cq:lX.cq,bp:lX.bp,fw:lX.fw};return eF.adj(Uh)}).then(function(cD){
 var v=[];for(var i=0;i<cD.v.length;i+=f6.aw.mt){if(bd<=cD.v[i+f6.aw.kO]&&cD.v[i+f6.aw.kO]<bn&&(i==0||(i>0&&cD.v[i+f6.aw.kO]>cD.v[i+f6.aw.kO-f6.aw.mt]))){var ap=cD.v[i+f6.aw.Jh]/4.0;v.push(cD.v[i+f6.aw.kO]);v.push(ap);v.push(cD.v[i+f6.aw.Km]);v.push(cD.v[i+f6.aw.Jp]);if(cD.v[i+f6.aw.Qq]==f6.Ew.TX){v.push(cD.v[i+f6.aw.kO]+ld);v.push(ap);v.push(cD.v[i+f6.aw.Ej]);v.push(cD.v[i+f6.aw.DI]);v.push(cD.v[i+f6.aw.kO]+ld*2);v.push(ap);v.push(cD.v[i+f6.aw.Eu]);v.push(cD.v[i+f6.aw.CO])}else{v.push(cD.v[i+f6.aw.kO]+ld);v.push(ap);v.push(cD.v[i+f6.aw.Eu]);v.push(cD.v[i+f6.aw.CO]);v.push(cD.v[i+f6.aw.kO]+ld*2);v.push(ap);v.push(cD.v[i+f6.aw.Ej]);v.push(cD.v[i+f6.aw.DI])}v.push(cD.v[i+f6.aw.kO]+ld*3);v.push(ap);v.push(cD.v[i+f6.aw.KB]);v.push(cD.v[i+f6.aw.Kl])}}var aV=eF.bU(cD.t,cD.V,cD.O);eF.iM[aV].v=v;f6.kH(f6.cg.YB,{t:cD.t,V:cD.V,O:cD.O,v:v});
}).catch(function(){})}},jY:function(jE){var t=jE.t,V=jE.V;this.lE[f6.jU(t)].jY(t,V)},nv:function(mH){f6.kH(f6.cg.ZV,{v:mH})}};f6d.lE=[];f6d.lE[f6.mK.dI]={nJ:null,MR:function(nJ){this.nJ=nJ},fW:null,Om:function(fW){this.fW=fW},BF:5000,Xg:function(){return this.BF},eA:{vS:"HEARTBEAT",bi:"PRICE"},akN:[f6.bP.iw,f6.bP.iY,f6.bP.ip,f6.bP.jo,f6.bP.hN,f6.bP.le,f6.bP.kz,f6.bP.iR,f6.bP.iv,f6.bP.iO,f6.bP.jF,f6.bP.kR,f6.bP.ki,f6.bP.hL,f6.bP.kr,f6.bP.lw,f6.bP.ka,f6.bP.jy,f6.bP.jx,f6.bP.iF],Rd:function(bp){if(bp==f6.bP.iw){return f6.bV.iw}else if(bp==f6.bP.iY){return f6.bV.iY}else if(bp==f6.bP.ip){return f6.bV.ip}else if(bp==f6.bP.jo){return f6.bV.jo}else if(bp==f6.bP.hN){return f6.bV.hN}else if(bp==f6.bP.le){return f6.bV.le}else if(bp==f6.bP.kz){return f6.bV.kz}else if(bp==f6.bP.iR){return f6.bV.iR}else if(bp==f6.bP.kC){return f6.bV.kC}else if(bp==f6.bP.iv){return f6.bV.iv}else if(bp==f6.bP.iO){return f6.bV.iO}else if(bp==f6.bP.jF){return f6.bV.jF}else if(bp==f6.bP.kR){return f6.bV.kR}else if(bp==f6.bP.ki){return f6.bV.ki}else if(bp==f6.bP.hL){return f6.bV.hL}else if(bp==f6.bP.kr){return f6.bV.kr}else if(bp==f6.bP.lw){return f6.bV.lw}else if(bp==f6.bP.ka){return f6.bV.ka}else if(bp==f6.bP.jy){return f6.bV.jy}else if(bp==f6.bP.jx){return f6.bV.jx}else if(bp==f6.bP.iF){return f6.bV.iF}else{return null}},QK:function(bp){if(bp==f6.bV.iw){return f6.bP.iw}else if(bp==f6.bV.iY){return f6.bP.iY}else if(bp==f6.bV.ip){return f6.bP.ip}else if(bp==f6.bV.jo){return f6.bP.jo}else if(bp==f6.bV.hN){return f6.bP.hN}else if(bp==f6.bV.le){return f6.bP.le}else if(bp==f6.bV.kz){return f6.bP.kz}else if(bp==f6.bV.iR){return f6.bP.iR}else if(bp==f6.bV.kC){return f6.bP.kC}else if(bp==f6.bV.iv){return f6.bP.iv}else if(bp==f6.bV.iO){return f6.bP.iO}else if(bp==f6.bV.jF){return f6.bP.jF}else if(bp==f6.bV.kR){return f6.bP.kR}else if(bp==f6.bV.ki){return f6.bP.ki}else if(bp==f6.bV.hL){return f6.bP.hL}else if(bp==f6.bV.kr){return f6.bP.kr}else if(bp==f6.bV.lw){return f6.bP.lw}else if(bp==f6.bV.ka){return f6.bP.ka}else if(bp==f6.bV.jy){return f6.bP.jy}else if(bp==f6.bV.jx){return f6.bP.jx}else if(bp==f6.bV.iF){return f6.bP.iF}else{return null}},RX:function(aW){if(aW==f6.eg.oj){return "M"}else if(aW==f6.eg.dk){return "B"}else if(aW==f6.eg.dP){return "A"}else if(aW==f6.eg.mi){return "BA"}else{return null}},TL:function(cn){if(typeof cn.complete!=f6.H.C&&cn.complete!=null){if(cn.complete!=true&&cn.complete!=false){throw new Error(f6.R.fA)}return!cn.complete}else{throw new Error(f6.R.fA)}},Cg:function(K,gM){if(f6.bQ(K.time)){if(gM!=null){return Math.floor(parseFloat(K.time)/gM)*gM}else{return Math.floor(parseFloat(K.time))}}else{throw new Error(f6.R.fA)}},Tn:function(cn){if(f6.bQ(cn.volume)){return parseFloat(cn.volume)}else{throw new Error(f6.R.fA)}},sU:function(cn){if(f6.bQ(cn.o)){return parseFloat(cn.o)}else{throw new Error(f6.R.fA)}},qZ:function(cn){if(f6.bQ(cn.h)){return parseFloat(cn.h)}else{throw new Error(f6.R.fA)}},sz:function(cn){if(f6.bQ(cn.l)){return parseFloat(cn.l)}else{throw new Error(f6.R.fA)}},pY:function(cn){if(f6.bQ(cn.c)){return parseFloat(cn.c)}else{throw new Error(f6.R.fA)}},qC:function(K){if(typeof K.instrument==f6.H.F){return K.instrument}else{throw new Error(f6.R.fA)}},VL:function(K){if(f6.dG(K.bids)){var mg=[];for(var i in K.bids){var dk=K.bids[i];if(f6.bQ(dk.price)&&f6.bQ(dk.liquidity)){var bi=parseFloat(dk.price);if(bi>0.0){mg.push({bi:bi,FV:parseFloat(dk.liquidity)})}}}return mg}else{throw new Error(f6.R.fA)}},RG:function(K){if(f6.dG(K.asks)){var nX=[];for(var i in K.asks){var dP=K.asks[i];if(f6.bQ(dP.price)&&f6.bQ(dP.liquidity)){var bi=parseFloat(dP.price);if(bi>0.0){nX.push({bi:bi,FV:parseFloat(dP.liquidity)})}}}return nX}else{throw new Error(f6.R.fA)}},anK:function(K){if(f6.bQ(K.closeoutBid)){return parseFloat(K.closeoutBid)}else{throw new Error(f6.R.fA)}},anB:function(K){if(f6.bQ(K.closeoutAsk)){return parseFloat(K.closeoutAsk)}else{throw new Error(f6.R.fA)}},aqd:function(K){if(typeof K.status==f6.H.F){return K.status}else{throw new Error(f6.R.fA)}},arb:function(K){if(typeof K.tradeable==f6.H.fI){return K.tradeable}else{throw new Error(f6.R.fA)}},wk:function(t,K){if(f6.dG(K)){var aD=[];for(var i in K){var ab=K[i];if(typeof ab.displayName==f6.H.F&&typeof ab.symbolName==f6.H.F&&typeof ab.basicCurrency==f6.H.F&&typeof ab.tradableSymbol==f6.H.F&&f6.bQ(ab.toFixed)&&typeof ab.toFixed!=f6.H.F&&f6.bQ(ab.cyBuySwap)&&typeof ab.cyBuySwap!=f6.H.F&&f6.bQ(ab.cySellSwap)&&typeof ab.cySellSwap!=f6.H.F&&f6.bQ(ab.trdBuySwap)&&typeof ab.trdBuySwap!=f6.H.F&&f6.bQ(ab.trdSellSwap)&&typeof ab.trdSellSwap!=f6.H.F&&f6.bQ(ab.leverage)&&typeof ab.leverage!=f6.H.F&&f6.bQ(ab.lotsLimit)&&typeof ab.lotsLimit!=f6.H.F&&f6.bQ(ab.cyBuyOpnCmmssn)&&typeof ab.cyBuyOpnCmmssn!=f6.H.F&&f6.bQ(ab.cyBuyClsdCmmssn)&&typeof ab.cyBuyClsdCmmssn!=f6.H.F&&f6.bQ(ab.cySellOpnCmmssn)&&typeof ab.cySellOpnCmmssn!=f6.H.F&&f6.bQ(ab.cySellClsdCmmssn)&&typeof ab.cySellClsdCmmssn!=f6.H.F&&f6.bQ(ab.trdBuyOpnCmmssn)&&typeof ab.trdBuyOpnCmmssn!=f6.H.F&&f6.bQ(ab.trdBuyClsdCmmssn)&&typeof ab.trdBuyClsdCmmssn!=f6.H.F&&f6.bQ(ab.trdSellOpnCmmssn)&&typeof ab.trdSellOpnCmmssn!=f6.H.F&&f6.bQ(ab.trdSellClsdCmmssn)&&typeof ab.trdSellClsdCmmssn!=f6.H.F&&f6.bQ(ab.lotsMinLimit)&&typeof ab.lotsMinLimit!=f6.H.F&&f6.bQ(ab.lotsStep)&&typeof ab.lotsStep!=f6.H.F&&f6.bQ(ab.limitStopMin)&&typeof ab.limitStopMin!=f6.H.F){if(typeof ab.bSpecialDay==f6.H.fI){if(ab.bSpecialDay){if(!f6.be(ab.specialDay)||typeof ab.specialDay==f6.H.F||ab.specialDay<f6.kA.Ad||ab.specialDay>f6.kA.ER){throw new Error(f6.R.oC)}}else{ab.specialDay=null}}else{throw new Error(f6.R.oC)}aD.push({O:ab.symbolName,bM:ab.displayName,qA:ab.basicCurrency,zB:ab.tradableSymbol,aT:ab.toFixed,Cn:ab.cyBuySwap,By:ab.cySellSwap,IM:ab.trdBuySwap,GM:ab.trdSellSwap,AM:ab.bSpecialDay,BH:ab.specialDay,ql:ab.leverage,tF:ab.lotsLimit,Jf:ab.cyBuyOpnCmmssn,Jm:ab.cyBuyClsdCmmssn,JM:ab.cySellOpnCmmssn,Ko:ab.cySellClsdCmmssn,Mj:ab.trdBuyOpnCmmssn,LH:ab.trdBuyClsdCmmssn,KT:ab.trdSellOpnCmmssn,KK:ab.trdSellClsdCmmssn,rK:ab.lotsMinLimit,pU:ab.lotsStep,nd:ab.limitStopMin})}else{throw new Error(f6.R.oC)}}return aD}else{throw new Error(f6.R.oC)}},vC:function(by){var t=by.t,V=by.V,O=by.O,aW=by.aW,cq=by.cq,bp=by.bp,bd=by.bd,bn=by.bn;var aq=this;return new Promise(function(cp,an){var AW=function(){
 var hT={price:aq.RX(aW),granularity:aq.Rd(bp),from:bd};if(bn!=null){hT.to=bn}else{if(f6.afa(t)){hT.count=aq.BF}}var GL=function(){var pg=f6.jZ(t,V);if(pg!=null){var bI=Math.floor(new Date().getTime()/1000);if((bI-pg.acM)>=pg.tm){pg.xe=false;f6.Zd(t,V,pg)}else{setTimeout(GL,Math.ceil(pg.acM+pg.tm-bI))}}};aq.nJ.sy.Wt(t,V,O,hT).then(function(K){try{if(typeof K.instrument!=f6.H.C&&K.instrument&&typeof K.granularity!=f6.H.C&&K.granularity&&typeof K.candles!=f6.H.C&&K.candles&&(O==K.instrument||O==K.instrument.replace("_","/"))&&bp==aq.QK(K.granularity)){var dz={t:t,V:V,O:O,bp:bp,cq:cq,aW:null,bd:null,bn:null,v:[],oa:false};if(!f6.dG(K.candles)){throw new Error(f6.R.fA+" A")}if(K.candles.length>0){
  var jO="";var Ak=K.candles[0];if(typeof Ak.mid!=f6.H.C&&Ak.mid!=null){jO+=f6.eg.oj}else{if(typeof Ak.bid!=f6.H.C&&Ak.bid!=null){jO+=f6.eg.dk}if(typeof Ak.ask!=f6.H.C&&Ak.ask!=null){jO+=f6.eg.dP}}if(jO===""||jO!=aW){throw new Error(f6.R.fA+" T")}var xn=f6.H.Xi;var gM=f6.mr(bp);dz.oa=aq.TL(K.candles[K.candles.length-1]);for(var i=0;i<K.candles.length;i += 1){
   var eU=K.candles[i];var nL=aq.Cg(eU,gM);if(xn>nL){throw new Error(f6.R.Xd)}else if(xn==nL){continue}if(nL<bd){continue}if(bn!=null){if(nL>=bn){continue}}dz.v.push(nL);xn=nL;dz.v.push(aq.Tn(eU));if(jO==f6.eg.oj){if(typeof eU.mid!=f6.H.C&&eU.mid!=null){dz.v.push(aq.sU(eU.mid));dz.v.push(aq.qZ(eU.mid));dz.v.push(aq.sz(eU.mid));dz.v.push(aq.pY(eU.mid))}else{throw new Error(f6.R.fA+" "+f6.eg.oj+" "+JSON.stringify(eU))}}else if(jO==f6.eg.dk){if(typeof eU.bid!=f6.H.C&&eU.bid!=null){dz.v.push(aq.sU(eU.bid));dz.v.push(aq.qZ(eU.bid));dz.v.push(aq.sz(eU.bid));dz.v.push(aq.pY(eU.bid))}else{throw new Error(f6.R.fA+" "+f6.eg.dk+" "+JSON.stringify(eU))}}else if(jO==f6.eg.dP){if(typeof eU.ask!=f6.H.C&&eU.ask!=null){dz.v.push(aq.sU(eU.ask));dz.v.push(aq.qZ(eU.ask));dz.v.push(aq.sz(eU.ask));dz.v.push(aq.pY(eU.ask))}else{throw new Error(f6.R.fA+" "+f6.eg.dP+" "+JSON.stringify(eU))}}else if(jO==f6.eg.mi){if(typeof eU.bid!=f6.H.C&&eU.bid!=null){dz.v.push(aq.sU(eU.bid));dz.v.push(aq.qZ(eU.bid));dz.v.push(aq.sz(eU.bid));dz.v.push(aq.pY(eU.bid))}else{throw new Error(f6.R.fA+" "+f6.eg.mi+" "+JSON.stringify(eU))}if(typeof eU.ask!=f6.H.C&&eU.ask!=null){dz.v.push(aq.sU(eU.ask));dz.v.push(aq.qZ(eU.ask));dz.v.push(aq.sz(eU.ask));dz.v.push(aq.pY(eU.ask))}else{throw new Error(f6.R.fA+" "+f6.eg.mi+" "+JSON.stringify(eU))}}var uW=null;if(typeof eU.lhOrHl==f6.H.C||eU.lhOrHl==null){if(Math.random()>0.5){uW=f6.Ew.TX}else{uW=f6.Ew.ti}}else{uW=eU.lhOrHl}dz.v.push(uW);
  }if(dz.v.length==0){if(bn!=null){dz.oa=false}else{dz.oa=true}}
 }else{if(bn!=null){dz.oa=false}else{dz.oa=true}}dz.aW=aW;dz.bd=bd;dz.bn=bn;cp(dz);if(bn!=null){GL()}}else{throw new Error(f6.R.fA+" "+JSON.stringify(K))}}catch(e){f6.aL(JSON.stringify(by)+" "+e.message);f6.ef(e.message);an();if(bn!=null){GL()}}}).catch(function(){an();if(bn!=null){GL()}});
};var acL=function(){var T=f6.jZ(t,V);if(T!=null){var tm=T.tm;var xe=T.xe;if(xe){setTimeout(acL,1000)}else{T.xe=true;T.acM=Math.floor(new Date().getTime()/1000);if(f6.Zd(t,V,T)){AW()}else{an()}}}else{an()}};if(bn!=null){acL()}else{AW()}})},vy:function(t,V){var aq=this;return new Promise(function(cp,an){aq.nJ.ay.sy(t,V,{}).then(function(aR){try{cp(aq.wk(t,aR.instruments))}catch(e){f6.aL(e.message);f6.ef(e.message);an()}}).catch(function(){an()})})},ky:function(t,V,ae){var aq=this;this.nJ.Gb.vd(t,V,{instruments:ae.join(",")},function(K){var bA=null;try{if(typeof K.type!=f6.H.C&&K.type){if(K.type==aq.eA.vS){}else if(K.type==aq.eA.bi){bA={t:t,V:V,O:aq.qC(K),bI:aq.Cg(K),ap:null,mg:aq.VL(K),nX:aq.RG(K)}}}}catch(e){f6.aL(JSON.stringify(K)+" "+e.message)}if(bA!=null){aq.fW.nv(bA)}})},jY:function(t,V){this.nJ.Gb.tN(t,V)}};f6d.lE[f6.mK.wB]={nJ:null,MR:function(nJ){this.nJ=nJ},fW:null,Om:function(fW){this.fW=fW},BF:5000,Xg:function(){return this.BF},eA:{vS:"HEARTBEAT",bi:"PRICE"},akN:[f6.bP.iw,f6.bP.iY,f6.bP.ip,f6.bP.jo,f6.bP.hN,f6.bP.le,f6.bP.kz,f6.bP.iR,f6.bP.iv,f6.bP.iO,f6.bP.jF,f6.bP.kR,f6.bP.ki,f6.bP.hL,f6.bP.kr,f6.bP.lw,f6.bP.ka,f6.bP.jy,f6.bP.jx,f6.bP.iF],Rd:function(bp){if(bp==f6.bP.iw){return f6.bV.iw}else if(bp==f6.bP.iY){return f6.bV.iY}else if(bp==f6.bP.ip){return f6.bV.ip}else if(bp==f6.bP.jo){return f6.bV.jo}else if(bp==f6.bP.hN){return f6.bV.hN}else if(bp==f6.bP.le){return f6.bV.le}else if(bp==f6.bP.kz){return f6.bV.kz}else if(bp==f6.bP.iR){return f6.bV.iR}else if(bp==f6.bP.kC){return f6.bV.kC}else if(bp==f6.bP.iv){return f6.bV.iv}else if(bp==f6.bP.iO){return f6.bV.iO}else if(bp==f6.bP.jF){return f6.bV.jF}else if(bp==f6.bP.kR){return f6.bV.kR}else if(bp==f6.bP.ki){return f6.bV.ki}else if(bp==f6.bP.hL){return f6.bV.hL}else if(bp==f6.bP.kr){return f6.bV.kr}else if(bp==f6.bP.lw){return f6.bV.lw}else if(bp==f6.bP.ka){return f6.bV.ka}else if(bp==f6.bP.jy){return f6.bV.jy}else if(bp==f6.bP.jx){return f6.bV.jx}else if(bp==f6.bP.iF){return f6.bV.iF}else{return null}},QK:function(bp){if(bp==f6.bV.iw){return f6.bP.iw}else if(bp==f6.bV.iY){return f6.bP.iY}else if(bp==f6.bV.ip){return f6.bP.ip}else if(bp==f6.bV.jo){return f6.bP.jo}else if(bp==f6.bV.hN){return f6.bP.hN}else if(bp==f6.bV.le){return f6.bP.le}else if(bp==f6.bV.kz){return f6.bP.kz}else if(bp==f6.bV.iR){return f6.bP.iR}else if(bp==f6.bV.kC){return f6.bP.kC}else if(bp==f6.bV.iv){return f6.bP.iv}else if(bp==f6.bV.iO){return f6.bP.iO}else if(bp==f6.bV.jF){return f6.bP.jF}else if(bp==f6.bV.kR){return f6.bP.kR}else if(bp==f6.bV.ki){return f6.bP.ki}else if(bp==f6.bV.hL){return f6.bP.hL}else if(bp==f6.bV.kr){return f6.bP.kr}else if(bp==f6.bV.lw){return f6.bP.lw}else if(bp==f6.bV.ka){return f6.bP.ka}else if(bp==f6.bV.jy){return f6.bP.jy}else if(bp==f6.bV.jx){return f6.bP.jx}else if(bp==f6.bV.iF){return f6.bP.iF}else{return null}},RX:function(aW){if(aW==f6.eg.oj){return "M"}else if(aW==f6.eg.dk){return "B"}else if(aW==f6.eg.dP){return "A"}else if(aW==f6.eg.mi){return "BA"}else{return null}},TL:function(cn){if(typeof cn.complete!=f6.H.C&&cn.complete!=null){if(cn.complete!=true&&cn.complete!=false){throw new Error(f6.R.fA)}return!cn.complete}else{throw new Error(f6.R.fA)}},Cg:function(K,gM){if(f6.bQ(K.time)){if(gM!=null){return Math.floor(parseFloat(K.time)/gM)*gM}else{return Math.floor(parseFloat(K.time))}}else{throw new Error(f6.R.fA)}},Tn:function(cn){if(f6.bQ(cn.volume)){return parseFloat(cn.volume)}else{throw new Error(f6.R.fA)}},sU:function(cn){if(f6.bQ(cn.o)){return parseFloat(cn.o)}else{throw new Error(f6.R.fA)}},qZ:function(cn){if(f6.bQ(cn.h)){return parseFloat(cn.h)}else{throw new Error(f6.R.fA)}},sz:function(cn){if(f6.bQ(cn.l)){return parseFloat(cn.l)}else{throw new Error(f6.R.fA)}},pY:function(cn){if(f6.bQ(cn.c)){return parseFloat(cn.c)}else{throw new Error(f6.R.fA)}},qC:function(K){if(typeof K.instrument==f6.H.F){return K.instrument}else{throw new Error(f6.R.fA)}},VL:function(K){if(f6.dG(K.bids)){var mg=[];for(var i in K.bids){if(f6.bQ(K.bids[i].price)&&f6.bQ(K.bids[i].liquidity)){var bi=parseFloat(K.bids[i].price);if(bi>0.0){mg.push({bi:bi,FV:parseFloat(K.bids[i].liquidity)})}}}return mg}else{throw new Error(f6.R.fA)}},RG:function(K){if(f6.dG(K.asks)){var nX=[];for(var i in K.asks){if(f6.bQ(K.asks[i].price)&&f6.bQ(K.asks[i].liquidity)){var bi=parseFloat(K.asks[i].price);if(bi>0.0){nX.push({bi:bi,FV:parseFloat(K.asks[i].liquidity)})}}}return nX}else{throw new Error(f6.R.fA)}},anK:function(K){if(f6.bQ(K.closeoutBid)){return parseFloat(K.closeoutBid)}else{throw new Error(f6.R.fA)}},anB:function(K){if(f6.bQ(K.closeoutAsk)){return parseFloat(K.closeoutAsk)}else{throw new Error(f6.R.fA)}},aqd:function(K){if(typeof K.status==f6.H.F){return K.status}else{throw new Error(f6.R.fA)}},arb:function(K){if(typeof K.tradeable==f6.H.fI){return K.tradeable}else{throw new Error(f6.R.fA)}},wk:function(t,K){if(f6.dG(K)){var aD=[];var cV=f6.lu(t);for(var i in K){if(typeof K[i].displayName==f6.H.F&&typeof K[i].name==f6.H.F&&f6.bQ(K[i].displayPrecision)&&typeof K[i].displayPrecision!=f6.H.F&&f6.bQ(K[i].marginRate)&&typeof K[i].marginRate==f6.H.F&&f6.bQ(K[i].maximumOrderUnits)&&typeof K[i].maximumOrderUnits==f6.H.F){var ao=K[i].name.split("_");if(ao.length!=2){throw new Error(f6.R.oC)}aD.push({O:K[i].name,bM:K[i].displayName,qA:ao[1],zB:ao[0],aT:Math.pow(10,K[i].displayPrecision),Cn:0.0,By:0.0,IM:0.0,GM:0.0,AM:true,BH:3,ql:1.0/parseFloat(K[i].marginRate),tF:parseFloat(K[i].maximumOrderUnits)/cV,Jf:0.0,Jm:0.0,JM:0.0,Ko:0.0,Mj:0.0,LH:0.0,KT:0.0,KK:0.0,rK:parseFloat(K[i].minimumTradeSize)/cV,pU:parseFloat(K[i].minimumTradeSize)/cV,nd:0.0})}else{throw new Error(f6.R.oC)}}return aD}else{throw new Error(f6.R.oC)}},vC:function(by){var t=by.t,V=by.V,O=by.O,aW=by.aW,cq=by.cq,bp=by.bp,bd=by.bd,bn=by.bn;var aq=this;return new Promise(function(cp,an){var hT={price:aq.RX(aW),granularity:aq.Rd(bp),from:bd};if(bn!=null){hT.to=bn}else{hT.count=aq.BF}aq.nJ.sy.Wt(t,V,O,hT).then(function(K){try{if(typeof K.instrument!=f6.H.C&&K.instrument&&typeof K.granularity!=f6.H.C&&K.granularity&&typeof K.candles!=f6.H.C&&K.candles&&O==K.instrument&&bp==aq.QK(K.granularity)){var dz={t:t,V:V,O:K.instrument,bp:bp,cq:cq,aW:null,bd:null,bn:null,v:[],oa:false};if(!f6.dG(K.candles)){throw new Error(f6.R.fA)}if(K.candles.length>0){
 var jO="";if(typeof K.candles[0].mid!=f6.H.C&&K.candles[0].mid!=null){jO+=f6.eg.oj}else{if(typeof K.candles[0].bid!=f6.H.C&&K.candles[0].bid!=null){jO+=f6.eg.dk}if(typeof K.candles[0].ask!=f6.H.C&&K.candles[0].ask!=null){jO+=f6.eg.dP}}if(jO===""||jO!=aW){throw new Error(f6.R.fA)}var xn=f6.H.Xi;var gM=f6.mr(bp);dz.oa=aq.TL(K.candles[K.candles.length-1]);for(var i=0;i<K.candles.length;i += 1){
  var nL=aq.Cg(K.candles[i],gM);if(xn>=nL){throw new Error(f6.R.Xd)}else if(xn==nL){continue}if(nL<bd){continue}if(bn!=null){if(nL>=bn){continue}}dz.v.push(nL);xn=nL;dz.v.push(aq.Tn(K.candles[i]));if(jO==f6.eg.oj){if(typeof K.candles[i].mid!=f6.H.C&&K.candles[i].mid!=null){dz.v.push(aq.sU(K.candles[i].mid));dz.v.push(aq.qZ(K.candles[i].mid));dz.v.push(aq.sz(K.candles[i].mid));dz.v.push(aq.pY(K.candles[i].mid))}else{throw new Error(f6.R.fA)}}else if(jO==f6.eg.dk){if(typeof K.candles[i].bid!=f6.H.C&&K.candles[i].bid!=null){dz.v.push(aq.sU(K.candles[i].bid));dz.v.push(aq.qZ(K.candles[i].bid));dz.v.push(aq.sz(K.candles[i].bid));dz.v.push(aq.pY(K.candles[i].bid))}else{throw new Error(f6.R.fA)}}else if(jO==f6.eg.dP){if(typeof K.candles[i].ask!=f6.H.C&&K.candles[i].ask!=null){dz.v.push(aq.sU(K.candles[i].ask));dz.v.push(aq.qZ(K.candles[i].ask));dz.v.push(aq.sz(K.candles[i].ask));dz.v.push(aq.pY(K.candles[i].ask))}else{throw new Error(f6.R.fA)}}else if(jO==f6.eg.mi){if(typeof K.candles[i].bid!=f6.H.C&&K.candles[i].bid!=null){dz.v.push(aq.sU(K.candles[i].bid));dz.v.push(aq.qZ(K.candles[i].bid));dz.v.push(aq.sz(K.candles[i].bid));dz.v.push(aq.pY(K.candles[i].bid))}else{throw new Error(f6.R.fA)}if(typeof K.candles[i].ask!=f6.H.C&&K.candles[i].ask!=null){dz.v.push(aq.sU(K.candles[i].ask));dz.v.push(aq.qZ(K.candles[i].ask));dz.v.push(aq.sz(K.candles[i].ask));dz.v.push(aq.pY(K.candles[i].ask))}else{throw new Error(f6.R.fA)}}var uW=null;if(typeof K.candles[i].lhOrHl==f6.H.C||K.candles[i].lhOrHl==null){if(Math.random()>0.5){uW=f6.Ew.TX}else{uW=f6.Ew.ti}}else{uW=K.candles[i].lhOrHl}dz.v.push(uW);
 }
}else{if(bn!=null){dz.oa=false}else{dz.oa=true}}dz.aW=aW;dz.bd=bd;dz.bn=bn;cp(dz)}else{throw new Error(f6.R.fA)}}catch(e){f6.aL(JSON.stringify(by)+" "+e.message);f6.ef(e.message);an()}}).catch(function(){an()})})},vy:function(t,V){var aq=this;return new Promise(function(cp,an){aq.nJ.ay.sy(t,V,{}).then(function(aR){try{cp(aq.wk(t,aR.instruments))}catch(e){f6.aL(e.message);f6.ef(e.message);an()}}).catch(function(){an()})})},ky:function(t,V,ae){var aq=this;this.nJ.Gb.vd(t,V,{instruments:ae.join(","),snapshot:false},function(K){var bA=null;try{if(typeof K.type!=f6.H.C&&K.type){if(K.type==aq.eA.vS){}else if(K.type==aq.eA.bi){bA={t:t,V:V,O:aq.qC(K),bI:aq.Cg(K),mg:aq.VL(K),nX:aq.RG(K)}}}}catch(e){f6.aL(JSON.stringify(K)+" "+e.message)}if(bA!=null){aq.fW.nv(bA)}})},jY:function(t,V){}};f6d.jQ={};f6d.jQ.auR=function(hj,kD,pQ,yl){return new Promise(function(cp,an){try{var cF=new XMLHttpRequest();if(kD===f6.cS.lF||kD===f6.cS.wl){cF.open(kD,hj,true);for(var i in yl){cF.setRequestHeader(yl[i].aeo,yl[i].abN)}cF.send(JSON.stringify(pQ))}else if(kD===f6.cS.dV){cF.open(kD,hj+"?"+f6.Bz(pQ),true);cF.send(null)}else{throw new Error(f6.R.Gv)}cF.onreadystatechange=function(){if(cF.readyState==4){if(cF.status==200||cF.status==0){try{if(cF.responseText!=""){cp(JSON.parse(cF.responseText))}else{cp(cF.responseText)}}catch(e){f6.aL(e.message);f6.ef(e.message);an()}}else{f6.aL(cF.status+" "+cF.responseText);f6.ef(cF.status+" "+cF.responseText);an()}}};cF.onerror=function(){f6.aL(f6.R.rE);f6.ef(f6.R.rE);an()}}catch(e){f6.aL(e.message);f6.ef(e.message);an()}})};f6d.jQ.iX=function(qK,hj,kD,pQ,hB){return new Promise(function(cp,an){try{var cF=new XMLHttpRequest();if(kD===f6.cS.lF||kD===f6.cS.wl){cF.open(kD,qK+hj,true);cF.setRequestHeader(f6.cS.XA,f6.cS.aaa);cF.setRequestHeader(f6.cS.GH,f6.cS.AO+" "+hB);cF.send(JSON.stringify(pQ))}else if(kD===f6.cS.dV){cF.open(kD,qK+hj+"?"+f6.Bz(pQ),true);cF.setRequestHeader(f6.cS.GH,f6.cS.AO+" "+hB);cF.send(null)}else{throw new Error(f6.R.Gv)}cF.onreadystatechange=function(){if(cF.readyState==4){if(cF.status==200||cF.status==0){try{if(cF.responseText!=""){cp(JSON.parse(cF.responseText))}else{cp(cF.responseText)}}catch(e){f6.aL(e.message);f6.ef(e.message);an()}}else{f6.aL(cF.status+" "+cF.responseText);f6.ef(cF.status+" "+cF.responseText);an()}}};cF.onerror=function(){f6.aL(f6.R.rE);f6.ef(f6.R.rE);an()}}catch(e){f6.aL(e.message);f6.ef(e.message);an()}})};f6d.jQ.lV=[];f6d.jQ.vd=function(qr,hj,kD,pQ,cP){try{if(kD===f6.cS.dV){if(! !self.EventSource){this.tN(qr,hj);this.lV[qr+hj]=new self.EventSource(qr+hj+"?"+f6.Bz(pQ),{withCredentials:true});this.lV[qr+hj].addEventListener(f6.dn.Bo,function(e){try{cP(JSON.parse(e.data))}catch(e){f6.aL(e.message);f6.ef(e.message)}},false);this.lV[qr+hj].addEventListener(f6.dn.cv,function(e){},false);this.lV[qr+hj].addEventListener(f6.dn.jM,function(e){if(e.readyState==self.EventSource.CLOSED){}f6.aL(f6.R.rE);f6.ef(f6.R.rE)},false)}else{}}else{throw new Error(f6.R.Gv)}}catch(e){f6.aL(e.message);f6.ef(e.message)}};f6d.jQ.tN=function(qK,hj){if(typeof this.lV[qK+hj]!=f6.H.C){this.lV[qK+hj].close();delete this.lV[qK+hj]}};f6d.jQ.ay={};f6d.jQ.ay.sy=function(t,V,EQ){return f6d.jQ.iX(f6.VA(t),"/accounts/"+V+"/instruments",f6.cS.dV,EQ,f6.iI(t,V))};f6d.jQ.sy={};f6d.jQ.sy.Wt=function(t,V,O,hT){if(f6.afa(t)){var yl=[];yl.push({aeo:f6.cS.GH,abN:f6.cS.AO+" "+f6.amZ(t)});yl.push({aeo:f6.cS.alX,abN:f6.cS.aiN});return f6d.jQ.auR(f6.amY(t).replace("symbolnames",O.replace("/","_")),f6.cS.dV,hT,yl)}else{return f6d.jQ.iX(f6.VA(t),"/accounts/"+V+"/instruments/"+O.replace("/","_")+"/candles",f6.cS.dV,hT,f6.iI(t,V))}};f6d.jQ.Gb={};f6d.jQ.Gb.vd=function(t,V,EQ,cP){var hT=EQ;hT.aH=f6.cS.AO+" "+f6.iI(t,V);f6d.jQ.vd(f6.VJ(t),"/accounts/"+V+"/pricing/stream",f6.cS.dV,hT,cP)};f6d.jQ.Gb.tN=function(t,V){f6d.jQ.tN(f6.VJ(t),"/accounts/"+V+"/pricing/stream")};f6d.jQ.sy.avJ=function(t,V,hT){return f6d.jQ.iX(f6.VA(t),"/accounts/"+V+"/pricing/snapshots",f6.cS.dV,hT,f6.iI(t,V))};
